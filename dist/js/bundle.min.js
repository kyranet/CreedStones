!function(e){var t={};function s(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=t,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(a,r,function(t){return e[t]}.bind(null,r));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=4)}([function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.up=0]="up",e[e.down=1]="down",e[e.right=2]="right",e[e.left=3]="left"}(t.Direction||(t.Direction={})),function(e){e[e.stop=0]="stop",e[e.move=1]="move"}(t.BoulderState||(t.BoulderState={})),function(e){e[e.none=0]="none",e[e.bushes=1]="bushes",e[e.cave=2]="cave",e[e.haystack=3]="haystack"}(t.HidingType||(t.HidingType={})),t.CharacterState={dead:0,run:1,stand:2,walk:3},t.PlayerState=Object.assign({},t.CharacterState,{hidden:4}),t.EnemyState=Object.assign({},t.CharacterState,{onRoute:4,pursuit:5})},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(15);class r{constructor(e,t){this.game=e,this.name=t,this.type="item"}setName(e){return this.name=e,this}setType(e){return this.type=e,this}load(e){return this.setName(e.name).setType(e.type)}toJSON(){return{name:this.name,type:this.constructor.name}}}r.factory=new a.ItemFactory,t.Item=r,r.factory.add(r)},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Factory=class extends Map{add(e){return this.set(e.name,e),this}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(17);class r extends Phaser.Sprite{constructor(e,t,s,a,r){super(e.game,t,s,a,r),this.gameManager=e,this.game.add.existing(this),this.gameManager.gameObjects.push(this)}setPosition(e,t){return this.body.x=e,this.body.y=t,this}setVelocity(e,t){return this.body.velocity.x=e,this.body.velocity.y=t,this}interact(e){return e.interaction(this),this}interaction(e){if(!(e instanceof r))throw new TypeError("Expected gameObject to be a GameObject instance")}toJSON(){return{frame:this.frame,key:this.key,name:this.name,position:{x:this.position.x,y:this.position.y},type:this.constructor.name,velocity:{x:this.body.velocity.x,y:this.body.velocity.y}}}fromJSON(e){return this.frame=e.frame,this.key=e.key,this.name=e.name,this.setPosition(e.position.x,e.position.y).setVelocity(e.velocity.x,e.velocity.y)}}r.factory=new a.GameObjectFactory,t.GameObject=r,r.factory.add(r)},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(5),r=s(6),i=s(7),n=s(9),o=s(18),c=s(19);window.onload=function(){const e=new Phaser.Game(c.WIN_WIDTH,c.WIN_HEIGHT,Phaser.AUTO,"game");e.state.add("boot",a.BootState),e.state.add("preloader",o.PreloaderState),e.state.add("play",n.PlayState),e.state.add("menu",r.MenuState),e.state.add("newGame",i.NewGameState),e.state.start("boot")}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BootState=class extends Phaser.State{preload(){this.game.load.image("preloader_bar","images/preloader_bar.png")}create(){this.game.state.start("preloader")}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MenuState=class extends Phaser.State{constructor(){super(...arguments),this.texts=[],this.logo=null}create(){this.game.stage.backgroundColor="#2A1B19",this.logo=this.game.add.sprite(this.game.world.centerX,this.game.world.centerY-120,"logo"),this.logo.anchor.setTo(.5,.5),this.logo.scale.setTo(.5,.5),this.createButton("New Game",()=>{this.game.state.start("newGame")}),localStorage.getItem("level")&&this.createButton("Continue",()=>{this.game.state.states.play.gameManager.storageManager.load()})}shutdown(){for(const e of this.texts)e.destroy(!0);this.texts.length=0,this.logo.destroy(!0),super.shutdown()}createButton(e,t){const s=this.game.add.text(this.game.world.centerX,this.game.world.centerY,e,{font:"65px Arial",fill:"#CDCDCD",align:"center"});s.anchor.set(.5),s.inputEnabled=!0,s.events.onInputUp.add(t,this),s.events.onInputDown.add(()=>{s.fill="#FF0044",s.events.onInputOver.removeAll(),s.events.onInputOut.removeAll()}),s.events.onInputOver.add(()=>{s.fill="#FFFFFF"}),s.events.onInputOut.add(()=>{s.fill="#EFEFEF"}),this.texts.push(s),s.alignTo(this.texts.length?this.texts[this.texts.length-1]:this.logo,Phaser.BOTTOM_CENTER,16)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(8);t.NewGameState=class extends Phaser.State{create(){const e=this.game.add.text(this.game.world.centerX,this.game.world.centerY-65,"Insert your name",{font:"65px Arial",fill:"#CDCDCD",align:"center"});e.anchor.setTo(.5,.5);const t=this.game.add.text(this.game.world.centerX,this.game.world.centerY,"",{font:"65px Arial",fill:"#CDCDCD",align:"center"});t.anchor.setTo(.5,.5),t.alignTo(e,Phaser.BOTTOM_CENTER,0,25),a.readLine(t,s=>{this.game.state.states.play.gameManager.playerName=s,e.destroy(!0),t.destroy(!0),this.game.state.start("play")},{maximumLength:20})}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.chunk=function(e,t){const s=e.slice(),a=[];for(;s.length;)a.push(s.splice(0,t));return a},t.readLine=function(e,t,s){const a=[],r="maximumLength"in s?s.maximumLength:100,i=s=>{if("Enter"===s.key)return document.removeEventListener("keydown",i),void t(a.join(""));if("Backspace"===s.key)a.length&&a.pop();else{if(!(a.length<=r&&/^[\(\)\[\]\w\d\-!?¡¿ ]$/.test(s.key)))return;a.push(s.key)}e.text=a.join("")};document.addEventListener("keydown",i)}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(10);t.PlayState=class extends Phaser.State{constructor(){super(...arguments),this.gameManager=new a.GameManager(this.game)}create(){const e=this.game.add.sprite(this.game.world.centerX,this.game.world.centerY,"logo");e.anchor.setTo(.5,.5),e.scale.setTo(.5,.5),this.game.input.keyboard.addKeyCapture([Phaser.Keyboard.LEFT,Phaser.Keyboard.RIGHT,Phaser.Keyboard.UP,Phaser.Keyboard.DOWN,Phaser.Keyboard.SPACEBAR])}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(11);var r;t.GameManager=class{constructor(e){this.game=e,this.mapManager=null,this.storageManager=new a.StorageManager(this),this.gameObjects=[],this.player=null,this.playerName=null,this.level=r.First}clear(){for(const e of this.gameObjects)e.destroy(!0);return this.gameObjects.length=0,this}},function(e){e[e.First=0]="First"}(r=t.GameLevels||(t.GameLevels={}))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(12),r=s(3);t.StorageManager=class{constructor(e){this.gameManager=e}save(){localStorage.clear(),localStorage.setItem("gameObjects",JSON.stringify(this.gameManager.gameObjects)),localStorage.setItem("level",this.gameManager.level.toString()),localStorage.setItem("playerName",this.gameManager.playerName)}load(){this.gameManager.clear();const e=localStorage.getItem("level");if(null===e)throw new Error("Could not find a saved file.");const t=Number(e);this.gameManager.level=t;const s=JSON.parse(localStorage.getItem("gameObjects"));if(s){for(const e of s){const t=r.GameObject.factory.get(e.type);throw t&&new t(this.gameManager,0,0).fromJSON(e),new Error(`Could not find a constructor for ${e.type||"unknown"}. Aborting.`)}this.gameManager.player=this.gameManager.gameObjects.find(e=>e instanceof a.Player)}const i=localStorage.getItem("playerName");i&&(this.gameManager.playerName=i)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(0),r=s(13);class i extends r.Character{constructor(e,t,s){super(e,t,s,"player"),this.hidingSpot=null,this.money=0,this.directions={down:!1,left:!1,right:!1,up:!1},this.game.camera.follow(this)}update(){this.directions.down=this.game.input.keyboard.isDown(Phaser.Keyboard.DOWN),this.directions.left=this.game.input.keyboard.isDown(Phaser.Keyboard.LEFT),this.directions.right=this.game.input.keyboard.isDown(Phaser.Keyboard.RIGHT),this.directions.up=this.game.input.keyboard.isDown(Phaser.Keyboard.UP);const e=this.game.input.keyboard.isDown(Phaser.Keyboard.SHIFT);this.directions.down!==this.directions.up?(this.direction=this.directions.down?a.Direction.down:a.Direction.up,e?this.run():this.walk()):this.directions.left!==this.directions.right?(this.direction=this.directions.left?a.Direction.left:a.Direction.right,e?this.run():this.walk()):this.stand()}hide(e){return e.hidingType!==a.HidingType.none&&(this.setState(a.PlayerState.hidden),this.hidingSpot=e),this}reveal(){return this.hidingSpot&&(this.setState(this.health?a.PlayerState.stand:a.PlayerState.dead),this.hidingSpot=null),this}fromJSON(e){return super.fromJSON(e),this.money=e.money,this}toJSON(){return Object.assign({},super.toJSON(),{hidingSpot:this.hidingSpot.toJSON(),money:this.money})}}t.Player=i,i.factory.add(i)},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(14),r=s(1),i=s(16),n=s(0),o=s(3);class c extends o.GameObject{constructor(e,t,s,r,i){super(e,t,s,r,i),this.walkSpeed=0,this.runSpeed=0,this.state=n.CharacterState.stand,this.direction=n.Direction.down,this.inventory=new a.Inventory,this.strength=0,this.game.physics.enable(this)}get damageStrength(){const e=this.inventory.active;return e instanceof i.ItemWeapon?e.damage:this.strength}setStrength(e){return this.strength=e,this}setState(e){return this.state=e,this}attack(e){e.damage(this.damageStrength)}kill(){return this.setState(n.CharacterState.dead),super.kill()}walk(){switch(this.setState(n.CharacterState.walk),this.direction){case n.Direction.down:this.setVelocity(0,this.walkSpeed);break;case n.Direction.up:this.setVelocity(0,-this.walkSpeed);break;case n.Direction.left:this.setVelocity(-this.walkSpeed,0);break;default:this.setVelocity(this.walkSpeed,0)}}run(){switch(this.setState(n.CharacterState.run),this.direction){case n.Direction.down:this.setVelocity(0,this.runSpeed);break;case n.Direction.up:this.setVelocity(0,-this.runSpeed);break;case n.Direction.left:this.setVelocity(-this.runSpeed,0);break;default:this.setVelocity(this.runSpeed,0)}}stand(){this.setState(n.CharacterState.stand),this.setVelocity(0,0)}changeDirection(e){this.direction=e}fromJSON(e){super.fromJSON(e),this.direction=e.direction,this.runSpeed=e.runSpeed,this.walkSpeed=e.walkSpeed,this.inventory.clear(),this.inventory.active=new r.Item(this.game,e.inventory.active);for(const t of e.inventory.items)this.inventory.set(t.name,new r.Item(this.game,t.name));return this.setStrength(e.strength),this}toJSON(){return Object.assign({},super.toJSON(),{direction:this.direction,inventory:this.inventory.toJSON(),runSpeed:this.runSpeed,strength:this.strength,walkSpeed:this.walkSpeed})}}t.Character=c,c.factory.add(c)},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Inventory=class extends Map{setActive(e){return this.active=e,this}toJSON(){return{active:this.active.name,items:[...this.values()]}}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(2);t.ItemFactory=class extends a.Factory{}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(1);class r extends a.Item{constructor(){super(...arguments),this.damage=0}setDamage(e){return this.damage=e,this}load(e){return super.load(e).setDamage(e.damage)}toJSON(){return Object.assign({},super.toJSON(),{damage:this.damage})}}t.ItemWeapon=r,a.Item.factory.add(r)},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(2);t.GameObjectFactory=class extends a.Factory{}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PreloaderState=class extends Phaser.State{preload(){this.loadingBar=this.game.add.sprite(0,240,"preloader_bar"),this.loadingBar.anchor.setTo(0,.5),this.load.setPreloadSprite(this.loadingBar),this.game.load.image("logo","images/StonesCreed.png")}create(){this.game.state.start("menu")}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WIN_WIDTH=800,t.WIN_HEIGHT=600}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9zdHJ1Y3R1cmVzL21pc2MvdHlwZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9zdHJ1Y3R1cmVzL2l0ZW1zL0l0ZW0udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9zdHJ1Y3R1cmVzL2NvbW1vbi9GYWN0b3J5LnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvc3RydWN0dXJlcy9nYW1lT2JqZWN0cy9HYW1lT2JqZWN0LnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvbWFpbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL3N0YXRlcy9Cb290U3RhdGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9zdGF0ZXMvTWVudVN0YXRlLnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvc3RhdGVzL05ld0dhbWVTdGF0ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL3V0aWwvdXRpbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL3N0YXRlcy9QbGF5U3RhdGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9zdHJ1Y3R1cmVzL21hbmFnZXJzL0dhbWVNYW5hZ2VyLnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvc3RydWN0dXJlcy9tYW5hZ2Vycy9TdG9yYWdlTWFuYWdlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL3N0cnVjdHVyZXMvZ2FtZU9iamVjdHMvY2hhcmFjdGVycy9QbGF5ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9zdHJ1Y3R1cmVzL2dhbWVPYmplY3RzL2NoYXJhY3RlcnMvQ2hhcmFjdGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvc3RydWN0dXJlcy9jb21tb24vSW52ZW50b3J5LnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvc3RydWN0dXJlcy9pdGVtcy9JdGVtRmFjdG9yeS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL3N0cnVjdHVyZXMvaXRlbXMvSXRlbVdlYXBvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL3N0cnVjdHVyZXMvZ2FtZU9iamVjdHMvR2FtZU9iamVjdEZhY3RvcnkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9zdGF0ZXMvUHJlbG9hZGVyU3RhdGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi91dGlsL2NvbnN0YW50cy50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkRpcmVjdGlvbiIsIkJvdWxkZXJTdGF0ZSIsIkhpZGluZ1R5cGUiLCJDaGFyYWN0ZXJTdGF0ZSIsImRlYWQiLCJydW4iLCJzdGFuZCIsIndhbGsiLCJQbGF5ZXJTdGF0ZSIsImFzc2lnbiIsImhpZGRlbiIsIkVuZW15U3RhdGUiLCJvblJvdXRlIiwicHVyc3VpdCIsIkl0ZW1GYWN0b3J5XzEiLCJJdGVtIiwiW29iamVjdCBPYmplY3RdIiwiZ2FtZSIsInRoaXMiLCJ0eXBlIiwiZGF0YSIsInNldE5hbWUiLCJzZXRUeXBlIiwiY29uc3RydWN0b3IiLCJmYWN0b3J5IiwiSXRlbUZhY3RvcnkiLCJhZGQiLCJGYWN0b3J5IiwiTWFwIiwiY3RvciIsInNldCIsIkdhbWVPYmplY3RGYWN0b3J5XzEiLCJHYW1lT2JqZWN0IiwiUGhhc2VyIiwiU3ByaXRlIiwiZ2FtZU1hbmFnZXIiLCJ4IiwieSIsImZyYW1lIiwic3VwZXIiLCJleGlzdGluZyIsImdhbWVPYmplY3RzIiwicHVzaCIsImJvZHkiLCJ2ZWxvY2l0eSIsImdhbWVPYmplY3QiLCJpbnRlcmFjdGlvbiIsIlR5cGVFcnJvciIsInBvc2l0aW9uIiwic2V0UG9zaXRpb24iLCJzZXRWZWxvY2l0eSIsIkdhbWVPYmplY3RGYWN0b3J5IiwiQm9vdFN0YXRlXzEiLCJNZW51U3RhdGVfMSIsIk5ld0dhbWVTdGF0ZV8xIiwiUGxheVN0YXRlXzEiLCJQcmVsb2FkZXJTdGF0ZV8xIiwiY29uc3RhbnRzXzEiLCJ3aW5kb3ciLCJvbmxvYWQiLCJHYW1lIiwiV0lOX1dJRFRIIiwiV0lOX0hFSUdIVCIsIkFVVE8iLCJzdGF0ZSIsIkJvb3RTdGF0ZSIsIlByZWxvYWRlclN0YXRlIiwiUGxheVN0YXRlIiwiTWVudVN0YXRlIiwiTmV3R2FtZVN0YXRlIiwic3RhcnQiLCJTdGF0ZSIsImxvYWQiLCJpbWFnZSIsInRleHRzIiwibG9nbyIsInN0YWdlIiwiYmFja2dyb3VuZENvbG9yIiwic3ByaXRlIiwid29ybGQiLCJjZW50ZXJYIiwiY2VudGVyWSIsImFuY2hvciIsInNldFRvIiwic2NhbGUiLCJjcmVhdGVCdXR0b24iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic3RhdGVzIiwicGxheSIsInN0b3JhZ2VNYW5hZ2VyIiwidGV4dCIsImRlc3Ryb3kiLCJsZW5ndGgiLCJzaHV0ZG93biIsImNiIiwiZm9udCIsImZpbGwiLCJhbGlnbiIsImlucHV0RW5hYmxlZCIsImV2ZW50cyIsIm9uSW5wdXRVcCIsIm9uSW5wdXREb3duIiwib25JbnB1dE92ZXIiLCJyZW1vdmVBbGwiLCJvbklucHV0T3V0IiwiYWxpZ25UbyIsIkJPVFRPTV9DRU5URVIiLCJ1dGlsXzEiLCJ0aXRsZVRleHQiLCJpbnB1dFRleHQiLCJyZWFkTGluZSIsInBsYXllck5hbWUiLCJtYXhpbXVtTGVuZ3RoIiwiY2h1bmsiLCJlbnRyaWVzIiwiY2h1bmtTaXplIiwiY2xvbmUiLCJzbGljZSIsImNodW5rcyIsInNwbGljZSIsIm9wdGlvbnMiLCJjb250ZW50IiwibWF4aW11bSIsImxpc3RlbmVyIiwiZXZlbnQiLCJkb2N1bWVudCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJqb2luIiwicG9wIiwidGVzdCIsImFkZEV2ZW50TGlzdGVuZXIiLCJHYW1lTWFuYWdlcl8xIiwiR2FtZU1hbmFnZXIiLCJpbnB1dCIsImtleWJvYXJkIiwiYWRkS2V5Q2FwdHVyZSIsIktleWJvYXJkIiwiTEVGVCIsIlJJR0hUIiwiVVAiLCJET1dOIiwiU1BBQ0VCQVIiLCJTdG9yYWdlTWFuYWdlcl8xIiwiR2FtZUxldmVscyIsIm1hcE1hbmFnZXIiLCJTdG9yYWdlTWFuYWdlciIsInBsYXllciIsImxldmVsIiwiRmlyc3QiLCJQbGF5ZXJfMSIsIkdhbWVPYmplY3RfMSIsImNsZWFyIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0b1N0cmluZyIsInJhd0xldmVsIiwiRXJyb3IiLCJOdW1iZXIiLCJwYXJzZSIsIkN0b3IiLCJmcm9tSlNPTiIsImZpbmQiLCJQbGF5ZXIiLCJ0eXBlc18xIiwiQ2hhcmFjdGVyXzEiLCJDaGFyYWN0ZXIiLCJoaWRpbmdTcG90IiwibW9uZXkiLCJkaXJlY3Rpb25zIiwiZG93biIsImxlZnQiLCJyaWdodCIsInVwIiwiY2FtZXJhIiwiZm9sbG93IiwiaXNEb3duIiwicnVubmluZyIsIlNISUZUIiwiZGlyZWN0aW9uIiwiaGlkaW5nVHlwZSIsIm5vbmUiLCJzZXRTdGF0ZSIsImhlYWx0aCIsInRvSlNPTiIsIkludmVudG9yeV8xIiwiSXRlbV8xIiwiSXRlbVdlYXBvbl8xIiwid2Fsa1NwZWVkIiwicnVuU3BlZWQiLCJpbnZlbnRvcnkiLCJJbnZlbnRvcnkiLCJzdHJlbmd0aCIsInBoeXNpY3MiLCJlbmFibGUiLCJkYW1hZ2VTdHJlbmd0aCIsIml0ZW0iLCJhY3RpdmUiLCJJdGVtV2VhcG9uIiwiZGFtYWdlIiwiY2hhcmFjdGVyIiwia2lsbCIsImVudHJ5IiwiaXRlbXMiLCJzZXRTdHJlbmd0aCIsInZh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RCxLQUFLQyxNQUFNLE9BQVEsMEJBR3ZCekQsU0FDTkUsS0FBS0QsS0FBSytDLE1BQU1NLE1BQU0seUZDZFh4RyxFQUFBK0YsVUFBWSxJQUNaL0YsRUFBQWdHLFdBQWEiLCJmaWxlIjoiYnVuZGxlLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA0KTtcbiIsIi8qKlxuICogVGhlIGRpcmVjdGlvbnNcbiAqL1xuZXhwb3J0IGVudW0gRGlyZWN0aW9uIHtcblx0dXAsXG5cdGRvd24sXG5cdHJpZ2h0LFxuXHRsZWZ0XG59XG5cbi8qKlxuICogVGhlIGJvdWxkZXIgc3RhdGVzXG4gKi9cbmV4cG9ydCBlbnVtIEJvdWxkZXJTdGF0ZSB7XG5cdHN0b3AsXG5cdG1vdmVcbn1cblxuLyoqXG4gKiBUaGUgaGlkaW5nIHR5cGVzXG4gKi9cbmV4cG9ydCBlbnVtIEhpZGluZ1R5cGUge1xuXHRub25lLFxuXHRidXNoZXMsXG5cdGNhdmUsXG5cdGhheXN0YWNrXG59XG5cbmV4cG9ydCBjb25zdCBDaGFyYWN0ZXJTdGF0ZTogSUNoYXJhY3RlclN0YXRlID0ge1xuXHRkZWFkOiAwLFxuXHRydW46IDEsXG5cdHN0YW5kOiAyLFxuXHR3YWxrOiAzXG59O1xuXG5leHBvcnQgY29uc3QgUGxheWVyU3RhdGU6IElQbGF5ZXJTdGF0ZSA9IHtcblx0Li4uQ2hhcmFjdGVyU3RhdGUsXG5cdGhpZGRlbjogNFxufTtcblxuZXhwb3J0IGNvbnN0IEVuZW15U3RhdGU6IElFbmVteVN0YXRlID0ge1xuXHQuLi5DaGFyYWN0ZXJTdGF0ZSxcblx0b25Sb3V0ZTogNCxcblx0cHVyc3VpdDogNVxufTtcblxuLyoqXG4gKiBUaGUgY2hhcmFjdGVyIHN0YXRlc1xuICovXG5pbnRlcmZhY2UgSUNoYXJhY3RlclN0YXRlIHtcblx0ZGVhZDogMDtcblx0cnVuOiAxO1xuXHRzdGFuZDogMjtcblx0d2FsazogMztcbn1cblxuLyoqXG4gKiBUaGUgcGxheWVyIHN0YXRlc1xuICovXG5pbnRlcmZhY2UgSVBsYXllclN0YXRlIGV4dGVuZHMgSUNoYXJhY3RlclN0YXRlIHtcblx0aGlkZGVuOiA0O1xufVxuXG4vKipcbiAqIFRoZSBlbmVteSBzdGF0ZXNcbiAqL1xuaW50ZXJmYWNlIElFbmVteVN0YXRlIGV4dGVuZHMgSUNoYXJhY3RlclN0YXRlIHtcblx0b25Sb3V0ZTogNDtcblx0cHVyc3VpdDogNTtcbn1cbiIsImltcG9ydCB7IEl0ZW1GYWN0b3J5IH0gZnJvbSAnLi9JdGVtRmFjdG9yeSc7XG5cbmV4cG9ydCBjbGFzcyBJdGVtIHtcblxuXHRwdWJsaWMgdHlwZSA9ICdpdGVtJztcblxuXHRwdWJsaWMgY29uc3RydWN0b3IocHVibGljIGdhbWU6IFBoYXNlci5HYW1lLCBwdWJsaWMgbmFtZTogc3RyaW5nKSB7IH1cblxuXHRwdWJsaWMgc2V0TmFtZShuYW1lOiBzdHJpbmcpIHtcblx0XHR0aGlzLm5hbWUgPSBuYW1lO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0cHVibGljIHNldFR5cGUodHlwZTogc3RyaW5nKSB7XG5cdFx0dGhpcy50eXBlID0gdHlwZTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdHB1YmxpYyBsb2FkKGRhdGE6IElJdGVtU2VyaWFsaXplZCkge1xuXHRcdHJldHVybiB0aGlzXG5cdFx0XHQuc2V0TmFtZShkYXRhLm5hbWUpXG5cdFx0XHQuc2V0VHlwZShkYXRhLnR5cGUpO1xuXHR9XG5cblx0cHVibGljIHRvSlNPTigpOiBJSXRlbVNlcmlhbGl6ZWQge1xuXHRcdHJldHVybiB7XG5cdFx0XHRuYW1lOiB0aGlzLm5hbWUsXG5cdFx0XHR0eXBlOiB0aGlzLmNvbnN0cnVjdG9yLm5hbWVcblx0XHR9O1xuXHR9XG5cblx0cHVibGljIHN0YXRpYyBmYWN0b3J5ID0gbmV3IEl0ZW1GYWN0b3J5KCk7XG5cbn1cblxuSXRlbS5mYWN0b3J5LmFkZChJdGVtKTtcblxuLyoqXG4gKiBUaGUgc2VyaWFsaXplZCBpdGVtIGRhdGFcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJSXRlbVNlcmlhbGl6ZWQge1xuXHRuYW1lOiBzdHJpbmc7XG5cdHR5cGU6IHN0cmluZztcbn1cbiIsImV4cG9ydCBjbGFzcyBGYWN0b3J5PFYsIEMgZXh0ZW5kcyBuZXcgKC4uLmFyZ3M6IGFueVtdKSA9PiBWPiBleHRlbmRzIE1hcDxzdHJpbmcsIEM+IHtcblxuXHRwdWJsaWMgYWRkKGN0b3I6IEMpIHtcblx0XHR0aGlzLnNldChjdG9yLm5hbWUsIGN0b3IpO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cbn1cbiIsImltcG9ydCB7IEdhbWVNYW5hZ2VyIH0gZnJvbSAnLi4vbWFuYWdlcnMvR2FtZU1hbmFnZXInO1xuaW1wb3J0IHsgR2FtZU9iamVjdEZhY3RvcnkgfSBmcm9tICcuL0dhbWVPYmplY3RGYWN0b3J5JztcblxuZXhwb3J0IGNsYXNzIEdhbWVPYmplY3QgZXh0ZW5kcyBQaGFzZXIuU3ByaXRlIHtcblxuXHRwdWJsaWMgY29uc3RydWN0b3IocHVibGljIGdhbWVNYW5hZ2VyOiBHYW1lTWFuYWdlciwgeDogbnVtYmVyLCB5OiBudW1iZXIsIGtleT86IHN0cmluZywgZnJhbWU/OiBzdHJpbmcpIHtcblx0XHRzdXBlcihnYW1lTWFuYWdlci5nYW1lLCB4LCB5LCBrZXksIGZyYW1lKTtcblx0XHQvLyBBZGQgdGhlIGdhbWVvYmplY3QgaXRzZWxmIHRvIHRoZSBnYW1lXG5cdFx0dGhpcy5nYW1lLmFkZC5leGlzdGluZyh0aGlzKTtcblx0XHR0aGlzLmdhbWVNYW5hZ2VyLmdhbWVPYmplY3RzLnB1c2godGhpcyk7XG5cdH1cblxuXHQvKipcblx0ICogU2V0IHRoZSBwb3NpdGlvbiBmb3IgdGhpcyBnYW1lIG9iamVjdFxuXHQgKiBAcGFyYW0geCBUaGUgbmV3IHggcG9zaXRpb25cblx0ICogQHBhcmFtIHkgVGhlIG5ldyB5IHBvc2l0aW9uXG5cdCAqL1xuXHRwdWJsaWMgc2V0UG9zaXRpb24oeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcblx0XHR0aGlzLmJvZHkueCA9IHg7XG5cdFx0dGhpcy5ib2R5LnkgPSB5O1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0LyoqXG5cdCAqIFNldCB0aGUgdmVsb2NpdHkgZm9yIHRoaXMgZ2FtZSBvYmplY3Rcblx0ICogQHBhcmFtIHggVGhlIG5ldyB4IHZlbG9jaXR5XG5cdCAqIEBwYXJhbSB5IFRoZSBuZXcgeSB2ZWxvY2l0eVxuXHQgKi9cblx0cHVibGljIHNldFZlbG9jaXR5KHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG5cdFx0dGhpcy5ib2R5LnZlbG9jaXR5LnggPSB4O1xuXHRcdHRoaXMuYm9keS52ZWxvY2l0eS55ID0geTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdC8qKlxuXHQgKiBJbnRlcmFjdHMgd2l0aCBhIGdhbWUgb2JqZWN0IGZyb20gdGhlIGdhbWVcblx0ICogQHBhcmFtIGdhbWVPYmplY3QgVGhlIGdhbWUgb2JqZWN0IHRvIGludGVyYWN0IHdpdGhcblx0ICovXG5cdHB1YmxpYyBpbnRlcmFjdChnYW1lT2JqZWN0OiBHYW1lT2JqZWN0KSB7XG5cdFx0Z2FtZU9iamVjdC5pbnRlcmFjdGlvbih0aGlzKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdC8qKlxuXHQgKiBIYW5kbGUgdGhlIGludGVyYWN0aW9ucyB0byB0aGlzIGdhbWUgb2JqZWN0XG5cdCAqIEBwYXJhbSBnYW1lT2JqZWN0IFRoZSBnYW1lIG9iamVjdCB0aGF0IGludGVyYWN0ZWQgd2l0aCB0aGlzIGluc3RhbmNlXG5cdCAqL1xuXHRwdWJsaWMgaW50ZXJhY3Rpb24oZ2FtZU9iamVjdDogR2FtZU9iamVjdCkge1xuXHRcdGlmICghKGdhbWVPYmplY3QgaW5zdGFuY2VvZiBHYW1lT2JqZWN0KSlcblx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkIGdhbWVPYmplY3QgdG8gYmUgYSBHYW1lT2JqZWN0IGluc3RhbmNlYCk7XG5cdH1cblxuXHRwdWJsaWMgdG9KU09OKCk6IElHYW1lT2JqZWN0U2VyaWFsaXplZCB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGZyYW1lOiB0aGlzLmZyYW1lIGFzIHN0cmluZyxcblx0XHRcdGtleTogdGhpcy5rZXkgYXMgc3RyaW5nLFxuXHRcdFx0bmFtZTogdGhpcy5uYW1lLFxuXHRcdFx0cG9zaXRpb246IHtcblx0XHRcdFx0eDogdGhpcy5wb3NpdGlvbi54LFxuXHRcdFx0XHR5OiB0aGlzLnBvc2l0aW9uLnlcblx0XHRcdH0sXG5cdFx0XHR0eXBlOiB0aGlzLmNvbnN0cnVjdG9yLm5hbWUsXG5cdFx0XHR2ZWxvY2l0eToge1xuXHRcdFx0XHR4OiB0aGlzLmJvZHkudmVsb2NpdHkueCxcblx0XHRcdFx0eTogdGhpcy5ib2R5LnZlbG9jaXR5Lnlcblx0XHRcdH1cblx0XHR9O1xuXHR9XG5cblx0cHVibGljIGZyb21KU09OKGRhdGE6IElHYW1lT2JqZWN0U2VyaWFsaXplZCkge1xuXHRcdHRoaXMuZnJhbWUgPSBkYXRhLmZyYW1lO1xuXHRcdHRoaXMua2V5ID0gZGF0YS5rZXk7XG5cdFx0dGhpcy5uYW1lID0gZGF0YS5uYW1lO1xuXHRcdHJldHVybiB0aGlzXG5cdFx0XHQuc2V0UG9zaXRpb24oZGF0YS5wb3NpdGlvbi54LCBkYXRhLnBvc2l0aW9uLnkpXG5cdFx0XHQuc2V0VmVsb2NpdHkoZGF0YS52ZWxvY2l0eS54LCBkYXRhLnZlbG9jaXR5LnkpO1xuXHR9XG5cblx0cHVibGljIHN0YXRpYyBmYWN0b3J5ID0gbmV3IEdhbWVPYmplY3RGYWN0b3J5KCk7XG5cbn1cblxuR2FtZU9iamVjdC5mYWN0b3J5LmFkZChHYW1lT2JqZWN0KTtcblxuLyoqXG4gKiBUaGUgc2VyaWFsaXplZCBnYW1lIG9iamVjdCBkYXRhXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSUdhbWVPYmplY3RTZXJpYWxpemVkIHtcblx0ZnJhbWU6IHN0cmluZztcblx0a2V5OiBzdHJpbmc7XG5cdG5hbWU6IHN0cmluZztcblx0cG9zaXRpb246IHtcblx0XHR4OiBudW1iZXI7XG5cdFx0eTogbnVtYmVyO1xuXHR9O1xuXHR0eXBlOiBzdHJpbmc7XG5cdHZlbG9jaXR5OiB7XG5cdFx0eDogbnVtYmVyO1xuXHRcdHk6IG51bWJlcjtcblx0fTtcbn1cbiIsImltcG9ydCB7IEJvb3RTdGF0ZSB9IGZyb20gJy4vc3RhdGVzL0Jvb3RTdGF0ZSc7XG5pbXBvcnQgeyBNZW51U3RhdGUgfSBmcm9tICcuL3N0YXRlcy9NZW51U3RhdGUnO1xuaW1wb3J0IHsgTmV3R2FtZVN0YXRlIH0gZnJvbSAnLi9zdGF0ZXMvTmV3R2FtZVN0YXRlJztcbmltcG9ydCB7IFBsYXlTdGF0ZSB9IGZyb20gJy4vc3RhdGVzL1BsYXlTdGF0ZSc7XG5pbXBvcnQgeyBQcmVsb2FkZXJTdGF0ZSB9IGZyb20gJy4vc3RhdGVzL1ByZWxvYWRlclN0YXRlJztcbmltcG9ydCB7IFdJTl9IRUlHSFQsIFdJTl9XSURUSCB9IGZyb20gJy4vdXRpbC9jb25zdGFudHMnO1xuXG53aW5kb3cub25sb2FkID0gZnVuY3Rpb24gb25sb2FkKCkge1xuXHRjb25zdCBnYW1lID0gbmV3IFBoYXNlci5HYW1lKFdJTl9XSURUSCwgV0lOX0hFSUdIVCwgUGhhc2VyLkFVVE8sICdnYW1lJyk7XG5cblx0Z2FtZS5zdGF0ZS5hZGQoJ2Jvb3QnLCBCb290U3RhdGUpO1xuXHRnYW1lLnN0YXRlLmFkZCgncHJlbG9hZGVyJywgUHJlbG9hZGVyU3RhdGUpO1xuXHRnYW1lLnN0YXRlLmFkZCgncGxheScsIFBsYXlTdGF0ZSk7XG5cdGdhbWUuc3RhdGUuYWRkKCdtZW51JywgTWVudVN0YXRlKTtcblx0Z2FtZS5zdGF0ZS5hZGQoJ25ld0dhbWUnLCBOZXdHYW1lU3RhdGUpO1xuXG5cdGdhbWUuc3RhdGUuc3RhcnQoJ2Jvb3QnKTtcbn07XG4iLCJcbmV4cG9ydCBjbGFzcyBCb290U3RhdGUgZXh0ZW5kcyBQaGFzZXIuU3RhdGUge1xuXHRwdWJsaWMgcHJlbG9hZCgpIHtcblx0XHQvLyBsb2FkIGhlcmUgYXNzZXRzIHJlcXVpcmVkIGZvciB0aGUgbG9hZGluZyBzY3JlZW5cblx0XHR0aGlzLmdhbWUubG9hZC5pbWFnZSgncHJlbG9hZGVyX2JhcicsICdpbWFnZXMvcHJlbG9hZGVyX2Jhci5wbmcnKTtcblx0fVxuXG5cdHB1YmxpYyBjcmVhdGUoKSB7XG5cdFx0dGhpcy5nYW1lLnN0YXRlLnN0YXJ0KCdwcmVsb2FkZXInKTtcblx0fVxufVxuIiwiaW1wb3J0IHsgUGxheVN0YXRlIH0gZnJvbSAnLi9QbGF5U3RhdGUnO1xuXG5leHBvcnQgY2xhc3MgTWVudVN0YXRlIGV4dGVuZHMgUGhhc2VyLlN0YXRlIHtcblxuXHRwdWJsaWMgdGV4dHM6IFBoYXNlci5UZXh0W10gPSBbXTtcblx0cHVibGljIGxvZ286IFBoYXNlci5TcHJpdGUgPSBudWxsO1xuXG5cdHB1YmxpYyBjcmVhdGUoKSB7XG5cdFx0dGhpcy5nYW1lLnN0YWdlLmJhY2tncm91bmRDb2xvciA9ICcjMkExQjE5Jztcblx0XHR0aGlzLmxvZ28gPSB0aGlzLmdhbWUuYWRkLnNwcml0ZSh0aGlzLmdhbWUud29ybGQuY2VudGVyWCwgdGhpcy5nYW1lLndvcmxkLmNlbnRlclkgLSAxMjAsICdsb2dvJyk7XG5cdFx0dGhpcy5sb2dvLmFuY2hvci5zZXRUbygwLjUsIDAuNSk7XG5cdFx0dGhpcy5sb2dvLnNjYWxlLnNldFRvKDAuNSwgMC41KTtcblxuXHRcdHRoaXMuY3JlYXRlQnV0dG9uKCdOZXcgR2FtZScsICgpID0+IHtcblx0XHRcdHRoaXMuZ2FtZS5zdGF0ZS5zdGFydCgnbmV3R2FtZScpO1xuXHRcdH0pO1xuXHRcdGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbGV2ZWwnKSkgdGhpcy5jcmVhdGVCdXR0b24oJ0NvbnRpbnVlJywgKCkgPT4ge1xuXHRcdFx0KHRoaXMuZ2FtZS5zdGF0ZS5zdGF0ZXMucGxheSBhcyBQbGF5U3RhdGUpLmdhbWVNYW5hZ2VyLnN0b3JhZ2VNYW5hZ2VyLmxvYWQoKTtcblx0XHR9KTtcblx0fVxuXG5cdHB1YmxpYyBzaHV0ZG93bigpIHtcblx0XHRmb3IgKGNvbnN0IHRleHQgb2YgdGhpcy50ZXh0cykgdGV4dC5kZXN0cm95KHRydWUpO1xuXHRcdHRoaXMudGV4dHMubGVuZ3RoID0gMDtcblx0XHR0aGlzLmxvZ28uZGVzdHJveSh0cnVlKTtcblx0XHRzdXBlci5zaHV0ZG93bigpO1xuXHR9XG5cblx0cHJpdmF0ZSBjcmVhdGVCdXR0b24obmFtZTogc3RyaW5nLCBjYjogRnVuY3Rpb24pIHtcblx0XHRjb25zdCB0ZXh0ID0gdGhpcy5nYW1lLmFkZC50ZXh0KHRoaXMuZ2FtZS53b3JsZC5jZW50ZXJYLCB0aGlzLmdhbWUud29ybGQuY2VudGVyWSwgbmFtZSwgeyBmb250OiAnNjVweCBBcmlhbCcsIGZpbGw6ICcjQ0RDRENEJywgYWxpZ246ICdjZW50ZXInIH0pO1xuXHRcdHRleHQuYW5jaG9yLnNldCgwLjUpO1xuXHRcdHRleHQuaW5wdXRFbmFibGVkID0gdHJ1ZTtcblx0XHR0ZXh0LmV2ZW50cy5vbklucHV0VXAuYWRkKGNiLCB0aGlzKTtcblx0XHR0ZXh0LmV2ZW50cy5vbklucHV0RG93bi5hZGQoKCkgPT4ge1xuXHRcdFx0dGV4dC5maWxsID0gJyNGRjAwNDQnO1xuXHRcdFx0dGV4dC5ldmVudHMub25JbnB1dE92ZXIucmVtb3ZlQWxsKCk7XG5cdFx0XHR0ZXh0LmV2ZW50cy5vbklucHV0T3V0LnJlbW92ZUFsbCgpO1xuXHRcdH0pO1xuXHRcdHRleHQuZXZlbnRzLm9uSW5wdXRPdmVyLmFkZCgoKSA9PiB7IHRleHQuZmlsbCA9ICcjRkZGRkZGJzsgfSk7XG5cdFx0dGV4dC5ldmVudHMub25JbnB1dE91dC5hZGQoKCkgPT4geyB0ZXh0LmZpbGwgPSAnI0VGRUZFRic7IH0pO1xuXHRcdHRoaXMudGV4dHMucHVzaCh0ZXh0KTtcblx0XHR0ZXh0LmFsaWduVG8odGhpcy50ZXh0cy5sZW5ndGggPyB0aGlzLnRleHRzW3RoaXMudGV4dHMubGVuZ3RoIC0gMV0gOiB0aGlzLmxvZ28sIFBoYXNlci5CT1RUT01fQ0VOVEVSLCAxNik7XG5cdH1cblxufVxuIiwiaW1wb3J0IHsgcmVhZExpbmUgfSBmcm9tICcuLi91dGlsL3V0aWwnO1xuaW1wb3J0IHsgUGxheVN0YXRlIH0gZnJvbSAnLi9QbGF5U3RhdGUnO1xuXG5leHBvcnQgY2xhc3MgTmV3R2FtZVN0YXRlIGV4dGVuZHMgUGhhc2VyLlN0YXRlIHtcblxuXHRwdWJsaWMgY3JlYXRlKCkge1xuXHRcdGNvbnN0IHRpdGxlVGV4dCA9IHRoaXMuZ2FtZS5hZGQudGV4dCh0aGlzLmdhbWUud29ybGQuY2VudGVyWCwgdGhpcy5nYW1lLndvcmxkLmNlbnRlclkgLSA2NSwgJ0luc2VydCB5b3VyIG5hbWUnLFxuXHRcdFx0eyBmb250OiAnNjVweCBBcmlhbCcsIGZpbGw6ICcjQ0RDRENEJywgYWxpZ246ICdjZW50ZXInIH0pO1xuXHRcdHRpdGxlVGV4dC5hbmNob3Iuc2V0VG8oMC41LCAwLjUpO1xuXG5cdFx0Y29uc3QgaW5wdXRUZXh0ID0gdGhpcy5nYW1lLmFkZC50ZXh0KHRoaXMuZ2FtZS53b3JsZC5jZW50ZXJYLCB0aGlzLmdhbWUud29ybGQuY2VudGVyWSwgJycsXG5cdFx0XHR7IGZvbnQ6ICc2NXB4IEFyaWFsJywgZmlsbDogJyNDRENEQ0QnLCBhbGlnbjogJ2NlbnRlcicgfSk7XG5cdFx0aW5wdXRUZXh0LmFuY2hvci5zZXRUbygwLjUsIDAuNSk7XG5cdFx0aW5wdXRUZXh0LmFsaWduVG8odGl0bGVUZXh0LCBQaGFzZXIuQk9UVE9NX0NFTlRFUiwgMCwgMjUpO1xuXG5cdFx0cmVhZExpbmUoaW5wdXRUZXh0LCAobmFtZSkgPT4ge1xuXHRcdFx0KHRoaXMuZ2FtZS5zdGF0ZS5zdGF0ZXMucGxheSBhcyBQbGF5U3RhdGUpLmdhbWVNYW5hZ2VyLnBsYXllck5hbWUgPSBuYW1lO1xuXHRcdFx0dGl0bGVUZXh0LmRlc3Ryb3kodHJ1ZSk7XG5cdFx0XHRpbnB1dFRleHQuZGVzdHJveSh0cnVlKTtcblx0XHRcdHRoaXMuZ2FtZS5zdGF0ZS5zdGFydCgncGxheScpO1xuXHRcdH0sIHsgbWF4aW11bUxlbmd0aDogMjAgfSk7XG5cdH1cblxufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGNodW5rPFQ+KGVudHJpZXM6IFRbXSwgY2h1bmtTaXplOiBudW1iZXIpOiBUW11bXSB7XG5cdGNvbnN0IGNsb25lID0gZW50cmllcy5zbGljZSgpO1xuXHRjb25zdCBjaHVua3MgPSBbXTtcblx0d2hpbGUgKGNsb25lLmxlbmd0aCkgY2h1bmtzLnB1c2goY2xvbmUuc3BsaWNlKDAsIGNodW5rU2l6ZSkpO1xuXHRyZXR1cm4gY2h1bmtzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVhZExpbmUodGV4dDogUGhhc2VyLlRleHQsIGNiOiAodGV4dDogc3RyaW5nKSA9PiB2b2lkLCBvcHRpb25zPzogUGhhc2VyUmVhZExpbmVPcHRpb25zKSB7XG5cdGNvbnN0IGNvbnRlbnQgPSBbXTtcblx0Y29uc3QgbWF4aW11bSA9ICdtYXhpbXVtTGVuZ3RoJyBpbiBvcHRpb25zID8gb3B0aW9ucy5tYXhpbXVtTGVuZ3RoIDogMTAwO1xuXG5cdGNvbnN0IGxpc3RlbmVyID0gKGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PiB7XG5cdFx0aWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJykge1xuXHRcdFx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGxpc3RlbmVyKTtcblx0XHRcdGNiKGNvbnRlbnQuam9pbignJykpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmIChldmVudC5rZXkgPT09ICdCYWNrc3BhY2UnKSB7XG5cdFx0XHRpZiAoY29udGVudC5sZW5ndGgpIGNvbnRlbnQucG9wKCk7XG5cdFx0fSBlbHNlIGlmIChjb250ZW50Lmxlbmd0aCA8PSBtYXhpbXVtICYmIC9eW1xcKFxcKVxcW1xcXVxcd1xcZFxcLSE/wqHCvyBdJC8udGVzdChldmVudC5rZXkpKSB7XG5cdFx0XHRjb250ZW50LnB1c2goZXZlbnQua2V5KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRleHQudGV4dCA9IGNvbnRlbnQuam9pbignJyk7XG5cdH07XG5cdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBsaXN0ZW5lcik7XG59XG5cbi8qKlxuICogVGhlIHJlYWRsaW5lIG9wdGlvbnNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQaGFzZXJSZWFkTGluZU9wdGlvbnMge1xuXHRtYXhpbXVtTGVuZ3RoPzogbnVtYmVyO1xufVxuIiwiaW1wb3J0IHsgR2FtZU1hbmFnZXIgfSBmcm9tICcuLi9zdHJ1Y3R1cmVzL21hbmFnZXJzL0dhbWVNYW5hZ2VyJztcblxuZXhwb3J0IGNsYXNzIFBsYXlTdGF0ZSBleHRlbmRzIFBoYXNlci5TdGF0ZSB7XG5cdHB1YmxpYyBnYW1lTWFuYWdlciA9IG5ldyBHYW1lTWFuYWdlcih0aGlzLmdhbWUpO1xuXG5cdHB1YmxpYyBjcmVhdGUoKSB7XG5cdFx0Y29uc3QgbG9nbyA9IHRoaXMuZ2FtZS5hZGQuc3ByaXRlKFxuXHRcdFx0dGhpcy5nYW1lLndvcmxkLmNlbnRlclgsIHRoaXMuZ2FtZS53b3JsZC5jZW50ZXJZLCAnbG9nbycpO1xuXHRcdGxvZ28uYW5jaG9yLnNldFRvKDAuNSwgMC41KTtcblx0XHRsb2dvLnNjYWxlLnNldFRvKDAuNSwgMC41KTtcblxuXHRcdC8vIFByZXZlbnQgZGlyZWN0aW9ucyBhbmQgc3BhY2Uga2V5IGV2ZW50cyBidWJibGluZyB1cCB0byBicm93c2VyLFxuXHRcdC8vIHNpbmNlIHRoZXNlIGtleXMgd2lsbCBtYWtlIHdlYiBwYWdlIHNjcm9sbCB3aGljaCBpcyBub3Rcblx0XHQvLyBleHBlY3RlZC5cblx0XHR0aGlzLmdhbWUuaW5wdXQua2V5Ym9hcmQuYWRkS2V5Q2FwdHVyZShbXG5cdFx0XHRQaGFzZXIuS2V5Ym9hcmQuTEVGVCxcblx0XHRcdFBoYXNlci5LZXlib2FyZC5SSUdIVCxcblx0XHRcdFBoYXNlci5LZXlib2FyZC5VUCxcblx0XHRcdFBoYXNlci5LZXlib2FyZC5ET1dOLFxuXHRcdFx0UGhhc2VyLktleWJvYXJkLlNQQUNFQkFSXG5cdFx0XSk7XG5cdH1cblxufVxuIiwiaW1wb3J0IHsgUGxheWVyIH0gZnJvbSAnLi4vZ2FtZU9iamVjdHMvY2hhcmFjdGVycy9QbGF5ZXInO1xuaW1wb3J0IHsgR2FtZU9iamVjdCB9IGZyb20gJy4uL2dhbWVPYmplY3RzL0dhbWVPYmplY3QnO1xuaW1wb3J0IHsgTWFwTWFuYWdlciB9IGZyb20gJy4vTWFwTWFuYWdlcic7XG5pbXBvcnQgeyBTdG9yYWdlTWFuYWdlciB9IGZyb20gJy4vU3RvcmFnZU1hbmFnZXInO1xuXG5leHBvcnQgY2xhc3MgR2FtZU1hbmFnZXIge1xuXHRwdWJsaWMgbWFwTWFuYWdlcjogTWFwTWFuYWdlciA9IG51bGw7XG5cdHB1YmxpYyBzdG9yYWdlTWFuYWdlciA9IG5ldyBTdG9yYWdlTWFuYWdlcih0aGlzKTtcblx0cHVibGljIGdhbWVPYmplY3RzOiBHYW1lT2JqZWN0W10gPSBbXTtcblx0cHVibGljIHBsYXllcjogUGxheWVyID0gbnVsbDtcblx0cHVibGljIHBsYXllck5hbWU6IHN0cmluZyA9IG51bGw7XG5cdHB1YmxpYyBsZXZlbCA9IEdhbWVMZXZlbHMuRmlyc3Q7XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKHB1YmxpYyBnYW1lOiBQaGFzZXIuR2FtZSkgeyB9XG5cblx0cHVibGljIGNsZWFyKCkge1xuXHRcdGZvciAoY29uc3QgZ2FtZU9iamVjdCBvZiB0aGlzLmdhbWVPYmplY3RzKSBnYW1lT2JqZWN0LmRlc3Ryb3kodHJ1ZSk7XG5cdFx0dGhpcy5nYW1lT2JqZWN0cy5sZW5ndGggPSAwO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cbn1cblxuLyoqXG4gKiBUaGUgZ2FtZSdzIGxldmVsc1xuICovXG5leHBvcnQgZW51bSBHYW1lTGV2ZWxzIHtcblx0Rmlyc3Rcbn1cbiIsImltcG9ydCB7IFBsYXllciB9IGZyb20gJy4uL2dhbWVPYmplY3RzL2NoYXJhY3RlcnMvUGxheWVyJztcbmltcG9ydCB7IEdhbWVPYmplY3QsIElHYW1lT2JqZWN0U2VyaWFsaXplZCB9IGZyb20gJy4uL2dhbWVPYmplY3RzL0dhbWVPYmplY3QnO1xuaW1wb3J0IHsgR2FtZU1hbmFnZXIgfSBmcm9tICcuL0dhbWVNYW5hZ2VyJztcblxuZXhwb3J0IGNsYXNzIFN0b3JhZ2VNYW5hZ2VyIHtcblxuXHRwdWJsaWMgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBnYW1lTWFuYWdlcjogR2FtZU1hbmFnZXIpIHsgfVxuXG5cdHB1YmxpYyBzYXZlKCkge1xuXHRcdGxvY2FsU3RvcmFnZS5jbGVhcigpO1xuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdnYW1lT2JqZWN0cycsIEpTT04uc3RyaW5naWZ5KHRoaXMuZ2FtZU1hbmFnZXIuZ2FtZU9iamVjdHMpKTtcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbGV2ZWwnLCB0aGlzLmdhbWVNYW5hZ2VyLmxldmVsLnRvU3RyaW5nKCkpO1xuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwbGF5ZXJOYW1lJywgdGhpcy5nYW1lTWFuYWdlci5wbGF5ZXJOYW1lKTtcblx0fVxuXG5cdHB1YmxpYyBsb2FkKCkge1xuXHRcdC8vIENsZWFyIHRoZSBnYW1lIG1hbmFnZXJcblx0XHR0aGlzLmdhbWVNYW5hZ2VyLmNsZWFyKCk7XG5cblx0XHQvLyBMb2FkIHRoZSBkYXRhXG5cdFx0Y29uc3QgcmF3TGV2ZWwgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbGV2ZWwnKTtcblx0XHRpZiAocmF3TGV2ZWwgPT09IG51bGwpIHRocm93IG5ldyBFcnJvcihgQ291bGQgbm90IGZpbmQgYSBzYXZlZCBmaWxlLmApO1xuXHRcdGNvbnN0IGxldmVsID0gTnVtYmVyKHJhd0xldmVsKTtcblxuXHRcdHRoaXMuZ2FtZU1hbmFnZXIubGV2ZWwgPSBsZXZlbDtcblxuXHRcdGNvbnN0IGdhbWVPYmplY3RzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZ2FtZU9iamVjdHMnKSkgYXMgSUdhbWVPYmplY3RTZXJpYWxpemVkW107XG5cdFx0aWYgKGdhbWVPYmplY3RzKSB7XG5cdFx0XHRmb3IgKGNvbnN0IGdhbWVPYmplY3Qgb2YgZ2FtZU9iamVjdHMpIHtcblx0XHRcdFx0Y29uc3QgQ3RvciA9IEdhbWVPYmplY3QuZmFjdG9yeS5nZXQoZ2FtZU9iamVjdC50eXBlKTtcblx0XHRcdFx0aWYgKEN0b3IpIG5ldyBDdG9yKHRoaXMuZ2FtZU1hbmFnZXIsIDAsIDApLmZyb21KU09OKGdhbWVPYmplY3QpO1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYENvdWxkIG5vdCBmaW5kIGEgY29uc3RydWN0b3IgZm9yICR7Z2FtZU9iamVjdC50eXBlIHx8ICd1bmtub3duJ30uIEFib3J0aW5nLmApO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLmdhbWVNYW5hZ2VyLnBsYXllciA9IHRoaXMuZ2FtZU1hbmFnZXIuZ2FtZU9iamVjdHMuZmluZCgoZ2FtZU9iamVjdCkgPT4gZ2FtZU9iamVjdCBpbnN0YW5jZW9mIFBsYXllcikgYXMgUGxheWVyO1xuXHRcdH1cblxuXHRcdGNvbnN0IHBsYXllck5hbWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncGxheWVyTmFtZScpO1xuXHRcdGlmIChwbGF5ZXJOYW1lKSB0aGlzLmdhbWVNYW5hZ2VyLnBsYXllck5hbWUgPSBwbGF5ZXJOYW1lO1xuXHR9XG5cbn1cbiIsImltcG9ydCB7IEdhbWVNYW5hZ2VyIH0gZnJvbSAnLi4vLi4vbWFuYWdlcnMvR2FtZU1hbmFnZXInO1xuaW1wb3J0IHsgRGlyZWN0aW9uLCBIaWRpbmdUeXBlLCBQbGF5ZXJTdGF0ZSB9IGZyb20gJy4uLy4uL21pc2MvdHlwZXMnO1xuaW1wb3J0IHsgSGlkaW5nU3BvdCwgSUhpZGluZ1Nwb3RTZXJpYWxpemVkIH0gZnJvbSAnLi4vaGlkaW5nU3BvdHMvSGlkaW5nU3BvdCc7XG5pbXBvcnQgeyBDaGFyYWN0ZXIsIElDaGFyYWN0ZXJTZXJpYWxpemVkIH0gZnJvbSAnLi9DaGFyYWN0ZXInO1xuXG5leHBvcnQgY2xhc3MgUGxheWVyIGV4dGVuZHMgQ2hhcmFjdGVyIHtcblxuXHRwdWJsaWMgaGlkaW5nU3BvdDogSGlkaW5nU3BvdCA9IG51bGw7XG5cdHB1YmxpYyBtb25leSA9IDA7XG5cdHByaXZhdGUgcmVhZG9ubHkgZGlyZWN0aW9ucyA9IHtcblx0XHRkb3duOiBmYWxzZSxcblx0XHRsZWZ0OiBmYWxzZSxcblx0XHRyaWdodDogZmFsc2UsXG5cdFx0dXA6IGZhbHNlXG5cdH07XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKGdhbWVNYW5hZ2VyOiBHYW1lTWFuYWdlciwgeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcblx0XHRzdXBlcihnYW1lTWFuYWdlciwgeCwgeSwgJ3BsYXllcicpO1xuXHRcdHRoaXMuZ2FtZS5jYW1lcmEuZm9sbG93KHRoaXMpO1xuXHR9XG5cblx0cHVibGljIHVwZGF0ZSgpIHtcblx0XHR0aGlzLmRpcmVjdGlvbnMuZG93biA9IHRoaXMuZ2FtZS5pbnB1dC5rZXlib2FyZC5pc0Rvd24oUGhhc2VyLktleWJvYXJkLkRPV04pO1xuXHRcdHRoaXMuZGlyZWN0aW9ucy5sZWZ0ID0gdGhpcy5nYW1lLmlucHV0LmtleWJvYXJkLmlzRG93bihQaGFzZXIuS2V5Ym9hcmQuTEVGVCk7XG5cdFx0dGhpcy5kaXJlY3Rpb25zLnJpZ2h0ID0gdGhpcy5nYW1lLmlucHV0LmtleWJvYXJkLmlzRG93bihQaGFzZXIuS2V5Ym9hcmQuUklHSFQpO1xuXHRcdHRoaXMuZGlyZWN0aW9ucy51cCA9IHRoaXMuZ2FtZS5pbnB1dC5rZXlib2FyZC5pc0Rvd24oUGhhc2VyLktleWJvYXJkLlVQKTtcblx0XHRjb25zdCBydW5uaW5nID0gdGhpcy5nYW1lLmlucHV0LmtleWJvYXJkLmlzRG93bihQaGFzZXIuS2V5Ym9hcmQuU0hJRlQpO1xuXG5cdFx0aWYgKHRoaXMuZGlyZWN0aW9ucy5kb3duICE9PSB0aGlzLmRpcmVjdGlvbnMudXApIHtcblx0XHRcdHRoaXMuZGlyZWN0aW9uID0gdGhpcy5kaXJlY3Rpb25zLmRvd24gPyBEaXJlY3Rpb24uZG93biA6IERpcmVjdGlvbi51cDtcblx0XHRcdGlmIChydW5uaW5nKSB0aGlzLnJ1bigpO1xuXHRcdFx0ZWxzZSB0aGlzLndhbGsoKTtcblx0XHR9IGVsc2UgaWYgKHRoaXMuZGlyZWN0aW9ucy5sZWZ0ICE9PSB0aGlzLmRpcmVjdGlvbnMucmlnaHQpIHtcblx0XHRcdHRoaXMuZGlyZWN0aW9uID0gdGhpcy5kaXJlY3Rpb25zLmxlZnQgPyBEaXJlY3Rpb24ubGVmdCA6IERpcmVjdGlvbi5yaWdodDtcblx0XHRcdGlmIChydW5uaW5nKSB0aGlzLnJ1bigpO1xuXHRcdFx0ZWxzZSB0aGlzLndhbGsoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5zdGFuZCgpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBIaWRlcyB0aGUgcGxheWVyLCBjaGFuZ2luZyB0aGUgc3RhdGUgYW5kIHNldHRpbmcgdGhlIGhpZGluZyBzcG90XG5cdCAqIEBwYXJhbSBoaWRpbmdTcG90IFRoZSBoaWRpbmcgc3BvdFxuXHQgKi9cblx0cHVibGljIGhpZGUoaGlkaW5nU3BvdDogSGlkaW5nU3BvdCkge1xuXHRcdGlmIChoaWRpbmdTcG90LmhpZGluZ1R5cGUgIT09IEhpZGluZ1R5cGUubm9uZSkge1xuXHRcdFx0dGhpcy5zZXRTdGF0ZShQbGF5ZXJTdGF0ZS5oaWRkZW4pO1xuXHRcdFx0dGhpcy5oaWRpbmdTcG90ID0gaGlkaW5nU3BvdDtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHQvKipcblx0ICogUmV2ZWFscyB0aGUgcGxheWVyLCBsZWF2aW5nIHRoZSBoaWRpbmcgcGxhY2UgaWYgdGhlcmUgd2FzIGFueVxuXHQgKi9cblx0cHVibGljIHJldmVhbCgpIHtcblx0XHRpZiAodGhpcy5oaWRpbmdTcG90KSB7XG5cdFx0XHR0aGlzLnNldFN0YXRlKHRoaXMuaGVhbHRoID8gUGxheWVyU3RhdGUuc3RhbmQgOiBQbGF5ZXJTdGF0ZS5kZWFkKTtcblx0XHRcdHRoaXMuaGlkaW5nU3BvdCA9IG51bGw7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0cHVibGljIGZyb21KU09OKGRhdGE6IElQbGF5ZXJTZXJpYWxpemVkKSB7XG5cdFx0c3VwZXIuZnJvbUpTT04oZGF0YSk7XG5cdFx0dGhpcy5tb25leSA9IGRhdGEubW9uZXk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHRwdWJsaWMgdG9KU09OKCk6IElQbGF5ZXJTZXJpYWxpemVkIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Li4uc3VwZXIudG9KU09OKCksXG5cdFx0XHRoaWRpbmdTcG90OiB0aGlzLmhpZGluZ1Nwb3QudG9KU09OKCksXG5cdFx0XHRtb25leTogdGhpcy5tb25leVxuXHRcdH07XG5cdH1cblxufVxuXG5QbGF5ZXIuZmFjdG9yeS5hZGQoUGxheWVyKTtcblxuLyoqXG4gKiBUaGUgc2VyaWFsaXplZCBwbGF5ZXIgZGF0YVxuICovXG5leHBvcnQgaW50ZXJmYWNlIElQbGF5ZXJTZXJpYWxpemVkIGV4dGVuZHMgSUNoYXJhY3RlclNlcmlhbGl6ZWQge1xuXHRoaWRpbmdTcG90OiBJSGlkaW5nU3BvdFNlcmlhbGl6ZWQ7XG5cdG1vbmV5OiBudW1iZXI7XG59XG4iLCJpbXBvcnQgeyBJSW52ZW50b3J5U2VyaWFsaXplZCwgSW52ZW50b3J5IH0gZnJvbSAnLi4vLi4vY29tbW9uL0ludmVudG9yeSc7XG5pbXBvcnQgeyBJdGVtIH0gZnJvbSAnLi4vLi4vaXRlbXMvSXRlbSc7XG5pbXBvcnQgeyBJdGVtV2VhcG9uIH0gZnJvbSAnLi4vLi4vaXRlbXMvSXRlbVdlYXBvbic7XG5pbXBvcnQgeyBHYW1lTWFuYWdlciB9IGZyb20gJy4uLy4uL21hbmFnZXJzL0dhbWVNYW5hZ2VyJztcbmltcG9ydCB7IENoYXJhY3RlclN0YXRlLCBEaXJlY3Rpb24gfSBmcm9tICcuLi8uLi9taXNjL3R5cGVzJztcbmltcG9ydCB7IEdhbWVPYmplY3QsIElHYW1lT2JqZWN0U2VyaWFsaXplZCB9IGZyb20gJy4uL0dhbWVPYmplY3QnO1xuXG5leHBvcnQgY2xhc3MgQ2hhcmFjdGVyIGV4dGVuZHMgR2FtZU9iamVjdCB7XG5cdHB1YmxpYyB3YWxrU3BlZWQgPSAwO1xuXHRwdWJsaWMgcnVuU3BlZWQgPSAwO1xuXHRwdWJsaWMgc3RhdGU6IG51bWJlciA9IENoYXJhY3RlclN0YXRlLnN0YW5kO1xuXHRwdWJsaWMgZGlyZWN0aW9uID0gRGlyZWN0aW9uLmRvd247XG5cdHB1YmxpYyBpbnZlbnRvcnkgPSBuZXcgSW52ZW50b3J5KCk7XG5cdHB1YmxpYyBzdHJlbmd0aCA9IDA7XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKGdhbWVNYW5hZ2VyOiBHYW1lTWFuYWdlciwgeDogbnVtYmVyLCB5OiBudW1iZXIsIGtleT86IHN0cmluZywgZnJhbWU/OiBzdHJpbmcpIHtcblx0XHRzdXBlcihnYW1lTWFuYWdlciwgeCwgeSwga2V5LCBmcmFtZSk7XG5cdFx0dGhpcy5nYW1lLnBoeXNpY3MuZW5hYmxlKHRoaXMpO1xuXHR9XG5cblx0cHVibGljIGdldCBkYW1hZ2VTdHJlbmd0aCgpIHtcblx0XHRjb25zdCBpdGVtID0gdGhpcy5pbnZlbnRvcnkuYWN0aXZlO1xuXHRcdHJldHVybiBpdGVtIGluc3RhbmNlb2YgSXRlbVdlYXBvbiA/IGl0ZW0uZGFtYWdlIDogdGhpcy5zdHJlbmd0aDtcblx0fVxuXG5cdHB1YmxpYyBzZXRTdHJlbmd0aChzdHJlbmd0aDogbnVtYmVyKSB7XG5cdFx0dGhpcy5zdHJlbmd0aCA9IHN0cmVuZ3RoO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0cHVibGljIHNldFN0YXRlKHN0YXRlOiBudW1iZXIpIHtcblx0XHR0aGlzLnN0YXRlID0gc3RhdGU7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHQvKipcblx0ICogVHJ5IHRvIGF0dGFjayBhIGNoYXJhY3RlclxuXHQgKiBAcGFyYW0gY2hhcmFjdGVyIFRoZSBjaGFyYWN0ZXIgdGhpcyBvbmUgaXMgYXR0ZW1wdGluZyB0byBhdHRhY2tcblx0ICovXG5cdHB1YmxpYyBhdHRhY2soY2hhcmFjdGVyOiBDaGFyYWN0ZXIpIHtcblx0XHRjaGFyYWN0ZXIuZGFtYWdlKHRoaXMuZGFtYWdlU3RyZW5ndGgpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEtpbGwgb3ZlcmxvYWQgdG8gc2V0IHRoZSBjaGFyYWN0ZXIncyBzdGF0ZVxuXHQgKi9cblx0cHVibGljIGtpbGwoKSB7XG5cdFx0dGhpcy5zZXRTdGF0ZShDaGFyYWN0ZXJTdGF0ZS5kZWFkKTtcblx0XHRyZXR1cm4gc3VwZXIua2lsbCgpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFNldHMgdGhlIHN0YXRlIG9mIHRoaXMgY2hhcmFjdGVyIHRvIHdhbGtcblx0ICovXG5cdHB1YmxpYyB3YWxrKCkge1xuXHRcdHRoaXMuc2V0U3RhdGUoQ2hhcmFjdGVyU3RhdGUud2Fsayk7XG5cdFx0c3dpdGNoICh0aGlzLmRpcmVjdGlvbikge1xuXHRcdFx0Y2FzZSBEaXJlY3Rpb24uZG93bjogdGhpcy5zZXRWZWxvY2l0eSgwLCB0aGlzLndhbGtTcGVlZCk7IGJyZWFrO1xuXHRcdFx0Y2FzZSBEaXJlY3Rpb24udXA6IHRoaXMuc2V0VmVsb2NpdHkoMCwgLXRoaXMud2Fsa1NwZWVkKTsgYnJlYWs7XG5cdFx0XHRjYXNlIERpcmVjdGlvbi5sZWZ0OiB0aGlzLnNldFZlbG9jaXR5KC10aGlzLndhbGtTcGVlZCwgMCk7IGJyZWFrO1xuXHRcdFx0ZGVmYXVsdDogdGhpcy5zZXRWZWxvY2l0eSh0aGlzLndhbGtTcGVlZCwgMCk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFNldHMgdGhlIHN0YXRlIG9mIHRoaXMgY2hhcmFjdGVyIHRvIHJ1blxuXHQgKi9cblx0cHVibGljIHJ1bigpIHtcblx0XHR0aGlzLnNldFN0YXRlKENoYXJhY3RlclN0YXRlLnJ1bik7XG5cdFx0c3dpdGNoICh0aGlzLmRpcmVjdGlvbikge1xuXHRcdFx0Y2FzZSBEaXJlY3Rpb24uZG93bjogdGhpcy5zZXRWZWxvY2l0eSgwLCB0aGlzLnJ1blNwZWVkKTsgYnJlYWs7XG5cdFx0XHRjYXNlIERpcmVjdGlvbi51cDogdGhpcy5zZXRWZWxvY2l0eSgwLCAtdGhpcy5ydW5TcGVlZCk7IGJyZWFrO1xuXHRcdFx0Y2FzZSBEaXJlY3Rpb24ubGVmdDogdGhpcy5zZXRWZWxvY2l0eSgtdGhpcy5ydW5TcGVlZCwgMCk7IGJyZWFrO1xuXHRcdFx0ZGVmYXVsdDogdGhpcy5zZXRWZWxvY2l0eSh0aGlzLnJ1blNwZWVkLCAwKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogU2V0cyB0aGUgc3RhdGUgb2YgdGhpcyBjaGFyYWN0ZXIgdG8gc3RhbmQsIGNoYW5naW5nXG5cdCAqL1xuXHRwdWJsaWMgc3RhbmQoKSB7XG5cdFx0dGhpcy5zZXRTdGF0ZShDaGFyYWN0ZXJTdGF0ZS5zdGFuZCk7XG5cdFx0dGhpcy5zZXRWZWxvY2l0eSgwLCAwKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDaGFuZ2UgdGhlIGRpcmVjdGlvbiBmb3IgdGhpcyBjaGFyYWN0ZXJcblx0ICogQHBhcmFtIGRpcmVjdGlvbiBUaGUgbmV3IGRpcmVjdGlvblxuXHQgKi9cblx0cHVibGljIGNoYW5nZURpcmVjdGlvbihkaXJlY3Rpb246IERpcmVjdGlvbikge1xuXHRcdHRoaXMuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuXHR9XG5cblx0cHVibGljIGZyb21KU09OKGRhdGE6IElDaGFyYWN0ZXJTZXJpYWxpemVkKSB7XG5cdFx0c3VwZXIuZnJvbUpTT04oZGF0YSk7XG5cdFx0dGhpcy5kaXJlY3Rpb24gPSBkYXRhLmRpcmVjdGlvbjtcblx0XHR0aGlzLnJ1blNwZWVkID0gZGF0YS5ydW5TcGVlZDtcblx0XHR0aGlzLndhbGtTcGVlZCA9IGRhdGEud2Fsa1NwZWVkO1xuXHRcdHRoaXMuaW52ZW50b3J5LmNsZWFyKCk7XG5cdFx0dGhpcy5pbnZlbnRvcnkuYWN0aXZlID0gbmV3IEl0ZW0odGhpcy5nYW1lLCBkYXRhLmludmVudG9yeS5hY3RpdmUpO1xuXHRcdGZvciAoY29uc3QgZW50cnkgb2YgZGF0YS5pbnZlbnRvcnkuaXRlbXMpIHRoaXMuaW52ZW50b3J5LnNldChlbnRyeS5uYW1lLCBuZXcgSXRlbSh0aGlzLmdhbWUsIGVudHJ5Lm5hbWUpKTtcblx0XHR0aGlzLnNldFN0cmVuZ3RoKGRhdGEuc3RyZW5ndGgpO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0cHVibGljIHRvSlNPTigpOiBJQ2hhcmFjdGVyU2VyaWFsaXplZCB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdC4uLnN1cGVyLnRvSlNPTigpLFxuXHRcdFx0ZGlyZWN0aW9uOiB0aGlzLmRpcmVjdGlvbixcblx0XHRcdGludmVudG9yeTogdGhpcy5pbnZlbnRvcnkudG9KU09OKCksXG5cdFx0XHRydW5TcGVlZDogdGhpcy5ydW5TcGVlZCxcblx0XHRcdHN0cmVuZ3RoOiB0aGlzLnN0cmVuZ3RoLFxuXHRcdFx0d2Fsa1NwZWVkOiB0aGlzLndhbGtTcGVlZCxcblx0XHR9O1xuXHR9XG5cbn1cblxuQ2hhcmFjdGVyLmZhY3RvcnkuYWRkKENoYXJhY3Rlcik7XG5cbi8qKlxuICogVGhlIHNlcmlhbGl6ZWQgY2hhcmFjdGVyIGRhdGFcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJQ2hhcmFjdGVyU2VyaWFsaXplZCBleHRlbmRzIElHYW1lT2JqZWN0U2VyaWFsaXplZCB7XG5cdGRpcmVjdGlvbjogbnVtYmVyO1xuXHRpbnZlbnRvcnk6IElJbnZlbnRvcnlTZXJpYWxpemVkO1xuXHRydW5TcGVlZDogbnVtYmVyO1xuXHRzdHJlbmd0aDogbnVtYmVyO1xuXHR3YWxrU3BlZWQ6IG51bWJlcjtcbn1cbiIsImltcG9ydCB7IElJdGVtU2VyaWFsaXplZCwgSXRlbSB9IGZyb20gJy4uL2l0ZW1zL0l0ZW0nO1xuXG5leHBvcnQgY2xhc3MgSW52ZW50b3J5IGV4dGVuZHMgTWFwPHN0cmluZywgSXRlbT4ge1xuXG5cdHB1YmxpYyBhY3RpdmU6IEl0ZW07XG5cblx0LyoqXG5cdCAqIFNldCB0aGUgYWN0aXZlIGl0ZW0gZnJvbSB0aGUgaW52ZW50b3J5XG5cdCAqIEBwYXJhbSBpdGVtIFRoZSBuZXcgYWN0aXZlIGl0ZW1cblx0ICovXG5cdHB1YmxpYyBzZXRBY3RpdmUoaXRlbTogSXRlbSkge1xuXHRcdHRoaXMuYWN0aXZlID0gaXRlbTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdHB1YmxpYyB0b0pTT04oKTogSUludmVudG9yeVNlcmlhbGl6ZWQge1xuXHRcdHJldHVybiB7XG5cdFx0XHRhY3RpdmU6IHRoaXMuYWN0aXZlLm5hbWUsXG5cdFx0XHRpdGVtczogWy4uLnRoaXMudmFsdWVzKCldXG5cdFx0fTtcblx0fVxuXG59XG5cbi8qKlxuICogVGhlIHNlcmlhbGl6ZWQgaW52ZW50b3J5IGRhdGFcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJSW52ZW50b3J5U2VyaWFsaXplZCB7XG5cdGFjdGl2ZTogc3RyaW5nO1xuXHRpdGVtczogSUl0ZW1TZXJpYWxpemVkW107XG59XG4iLCJpbXBvcnQgeyBGYWN0b3J5IH0gZnJvbSAnLi4vY29tbW9uL0ZhY3RvcnknO1xuaW1wb3J0IHsgSXRlbSB9IGZyb20gJy4vSXRlbSc7XG5cbmV4cG9ydCBjbGFzcyBJdGVtRmFjdG9yeSBleHRlbmRzIEZhY3Rvcnk8SXRlbSwgdHlwZW9mIEl0ZW0+eyB9XG4iLCJpbXBvcnQgeyBJSXRlbVNlcmlhbGl6ZWQsIEl0ZW0gfSBmcm9tICcuL0l0ZW0nO1xuXG5leHBvcnQgY2xhc3MgSXRlbVdlYXBvbiBleHRlbmRzIEl0ZW0ge1xuXHRwdWJsaWMgZGFtYWdlID0gMDtcblxuXHQvKipcblx0ICogU2V0IHRoZSBkYW1hZ2UgZm9yIHRoaXMgd2VhcG9uXG5cdCAqIEBwYXJhbSBkYW1hZ2UgVGhlIGRhbWFnZSB0aGlzIHdlYXBvbiBkZWFsc1xuXHQgKi9cblx0cHVibGljIHNldERhbWFnZShkYW1hZ2U6IG51bWJlcikge1xuXHRcdHRoaXMuZGFtYWdlID0gZGFtYWdlO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0cHVibGljIGxvYWQoZGF0YTogSUl0ZW1XZWFwb25TZXJpYWxpemVkKSB7XG5cdFx0cmV0dXJuIHN1cGVyLmxvYWQoZGF0YSkuc2V0RGFtYWdlKGRhdGEuZGFtYWdlKTtcblx0fVxuXG5cdHB1YmxpYyB0b0pTT04oKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdC4uLnN1cGVyLnRvSlNPTigpLFxuXHRcdFx0ZGFtYWdlOiB0aGlzLmRhbWFnZVxuXHRcdH07XG5cdH1cblxufVxuXG5JdGVtLmZhY3RvcnkuYWRkKEl0ZW1XZWFwb24pO1xuXG4vKipcbiAqIFRoZSBzZXJpYWxpemVkIGl0ZW0gd2VhcG9uIGRhdGFcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJSXRlbVdlYXBvblNlcmlhbGl6ZWQgZXh0ZW5kcyBJSXRlbVNlcmlhbGl6ZWQge1xuXHRkYW1hZ2U6IG51bWJlcjtcbn1cbiIsImltcG9ydCB7IEZhY3RvcnkgfSBmcm9tICcuLi9jb21tb24vRmFjdG9yeSc7XG5pbXBvcnQgeyBHYW1lT2JqZWN0IH0gZnJvbSAnLi9HYW1lT2JqZWN0JztcblxuZXhwb3J0IGNsYXNzIEdhbWVPYmplY3RGYWN0b3J5IGV4dGVuZHMgRmFjdG9yeTxHYW1lT2JqZWN0LCB0eXBlb2YgR2FtZU9iamVjdD57IH1cbiIsImV4cG9ydCBjbGFzcyBQcmVsb2FkZXJTdGF0ZSBleHRlbmRzIFBoYXNlci5TdGF0ZSB7XG5cblx0cHJpdmF0ZSBsb2FkaW5nQmFyOiBQaGFzZXIuU3ByaXRlO1xuXG5cdHB1YmxpYyBwcmVsb2FkKCkge1xuXHRcdHRoaXMubG9hZGluZ0JhciA9IHRoaXMuZ2FtZS5hZGQuc3ByaXRlKDAsIDI0MCwgJ3ByZWxvYWRlcl9iYXInKTtcblx0XHR0aGlzLmxvYWRpbmdCYXIuYW5jaG9yLnNldFRvKDAsIDAuNSk7XG5cdFx0dGhpcy5sb2FkLnNldFByZWxvYWRTcHJpdGUodGhpcy5sb2FkaW5nQmFyKTtcblxuXHRcdC8vIFRPRE86IGxvYWQgaGVyZSB0aGUgYXNzZXRzIGZvciB0aGUgZ2FtZVxuXHRcdHRoaXMuZ2FtZS5sb2FkLmltYWdlKCdsb2dvJywgJ2ltYWdlcy9TdG9uZXNDcmVlZC5wbmcnKTtcblx0fVxuXG5cdHB1YmxpYyBjcmVhdGUoKSB7XG5cdFx0dGhpcy5nYW1lLnN0YXRlLnN0YXJ0KCdtZW51Jyk7XG5cdH1cbn1cbiIsImV4cG9ydCBjb25zdCBXSU5fV0lEVEggPSA4MDA7XG5leHBvcnQgY29uc3QgV0lOX0hFSUdIVCA9IDYwMDtcbiJdLCJzb3VyY2VSb290IjoiIn0=