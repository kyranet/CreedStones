!function(e){var t={};function s(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=t,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(a,r,function(t){return e[t]}.bind(null,r));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=4)}([function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.up=0]="up",e[e.down=1]="down",e[e.right=2]="right",e[e.left=3]="left"}(t.Direction||(t.Direction={})),function(e){e[e.stop=0]="stop",e[e.move=1]="move"}(t.BoulderState||(t.BoulderState={})),function(e){e[e.none=0]="none",e[e.bushes=1]="bushes",e[e.cave=2]="cave",e[e.haystack=3]="haystack"}(t.HidingType||(t.HidingType={})),t.CharacterState={dead:0,run:1,stand:2,walk:3},t.PlayerState=Object.assign({},t.CharacterState,{hidden:4}),t.EnemyState=Object.assign({},t.CharacterState,{onRoute:4,pursuit:5})},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(13);class r{constructor(e,t){this.game=e,this.name=t,this.type="item"}setName(e){return this.name=e,this}setType(e){return this.type=e,this}load(e){return this.setName(e.name).setType(e.type)}toJSON(){return{name:this.name,type:this.constructor.name}}}r.factory=new a.ItemFactory,t.Item=r,r.factory.add(r)},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Factory=class extends Map{add(e){return this.set(e.name,e),this}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(15);class r extends Phaser.Sprite{constructor(e,t,s,a,r){super(e.game,t,s,a,r),this.gameManager=e,this.game.add.existing(this),this.gameManager.gameObjects.push(this)}setPosition(e,t){return this.body.x=e,this.body.y=t,this}setVelocity(e,t){return this.body.velocity.x=e,this.body.velocity.y=t,this}interact(e){return e.interaction(this),this}interaction(e){if(!(e instanceof r))throw new TypeError("Expected gameObject to be a GameObject instance")}toJSON(){return{frame:this.frame,key:this.key,name:this.name,position:{x:this.position.x,y:this.position.y},type:this.constructor.name,velocity:{x:this.body.velocity.x,y:this.body.velocity.y}}}fromJSON(e){return this.frame=e.frame,this.key=e.key,this.name=e.name,this.setPosition(e.position.x,e.position.y).setVelocity(e.velocity.x,e.velocity.y)}}r.factory=new a.GameObjectFactory,t.GameObject=r,r.factory.add(r)},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(5),r=s(6),n=s(7),i=s(16);window.onload=function(){const e=new Phaser.Game(800,600,Phaser.AUTO,"game");e.state.add("boot",a.BootState),e.state.add("preloader",i.PreloaderState),e.state.add("play",n.PlayState),e.state.add("menu",r.MenuState),e.state.start("boot")}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BootState=class extends Phaser.State{preload(){this.game.load.image("preloader_bar","images/preloader_bar.png")}create(){this.game.state.start("preloader")}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MenuState=class extends Phaser.State{constructor(){super(...arguments),this.texts=[],this.logo=null}create(){this.game.stage.backgroundColor="#2A1B19",this.logo=this.game.add.sprite(this.game.world.centerX,this.game.world.centerY-120,"logo"),this.logo.anchor.setTo(.5,.5),this.logo.scale.setTo(.5,.5),this.createButton(()=>this.game.state.start("play"))}createButton(e){const t=this.game.add.text(this.game.world.centerX,this.game.world.centerY,"Play",{font:"65px Arial",fill:"#CDCDCD",align:"center"});t.anchor.set(.5),t.inputEnabled=!0,t.events.onInputUp.add(e,this),t.events.onInputDown.add(()=>{t.fill="#FF0044",t.events.onInputOver.removeAll(),t.events.onInputOut.removeAll()}),t.events.onInputOver.add(()=>{t.fill="#FFFFFF"}),t.events.onInputOut.add(()=>{t.fill="#EFEFEF"}),this.texts.push(t),t.alignTo(this.texts.length?this.texts[this.texts.length-1]:this.logo,Phaser.BOTTOM_CENTER,16)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(8);t.PlayState=class extends Phaser.State{constructor(){super(...arguments),this.gameManager=new a.GameManager(this.game)}preload(){try{this.gameManager.storageManager.load(),console.log("Loaded previous game from storage.")}catch(e){console.log("Loading new game.")}}create(){this.game.add.sprite(this.game.world.centerX,this.game.world.centerY,"logo").anchor.setTo(.5,.5)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(9);var r;t.GameManager=class{constructor(e){this.game=e,this.mapManager=null,this.storageManager=new a.StorageManager(this),this.gameObjects=[],this.player=null,this.level=r.First}clear(){for(const e of this.gameObjects)e.destroy(!0);return this.gameObjects.length=0,this}},function(e){e[e.First=0]="First"}(r=t.GameLevels||(t.GameLevels={}))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(10),r=s(3);t.StorageManager=class{constructor(e){this.gameManager=e}save(){localStorage.clear(),localStorage.setItem("gameObjects",JSON.stringify(this.gameManager.gameObjects)),localStorage.setItem("level",this.gameManager.level.toString())}load(){this.gameManager.clear();const e=localStorage.getItem("level");if(null===e)throw new Error("Could not find a saved file.");const t=Number(e);this.gameManager.level=t;const s=JSON.parse(localStorage.getItem("gameObjects"));if(s){for(const e of s){const t=r.GameObject.factory.get(e.type);throw t&&new t(this.gameManager,0,0).fromJSON(e),new Error(`Could not find a constructor for ${e.type||"unknown"}. Aborting.`)}this.gameManager.player=this.gameManager.gameObjects.find(e=>e instanceof a.Player)}}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(0),r=s(11);class n extends r.Character{constructor(e,t,s){super(e,t,s,"player"),this.hidingSpot=null,this.money=0}hide(e){return e.hidingType!==a.HidingType.none&&(this.setState(a.PlayerState.hidden),this.hidingSpot=e),this}reveal(){return this.hidingSpot&&(this.setState(this.health?a.PlayerState.stand:a.PlayerState.dead),this.hidingSpot=null),this}fromJSON(e){return super.fromJSON(e),this}toJSON(){return Object.assign({},super.toJSON(),{hidingSpot:this.hidingSpot.toJSON(),money:this.money})}}t.Player=n,n.factory.add(n)},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(12),r=s(1),n=s(14),i=s(0),o=s(3);class c extends o.GameObject{constructor(e,t,s,r,n){super(e,t,s,r,n),this.walkSpeed=0,this.runSpeed=0,this.state=i.CharacterState.stand,this.direction=i.Direction.down,this.inventary=new a.Inventory,this.strength=0,this.game.physics.enable(this)}get damageStrength(){const e=this.inventary.active;return e instanceof n.ItemWeapon?e.damage:this.strength}setStrength(e){return this.strength=e,this}setState(e){return this.state=e,this}attack(e){e.damage(this.damageStrength)}kill(){return this.setState(i.CharacterState.dead),super.kill()}walk(){switch(this.setState(i.CharacterState.walk),this.direction){case i.Direction.down:this.setVelocity(0,this.walkSpeed);break;case i.Direction.up:this.setVelocity(0,-this.walkSpeed);break;case i.Direction.left:this.setVelocity(-this.walkSpeed,0);break;default:this.setVelocity(this.walkSpeed,0)}}run(){switch(this.setState(i.CharacterState.run),this.direction){case i.Direction.down:this.setVelocity(0,this.runSpeed);break;case i.Direction.up:this.setVelocity(0,-this.runSpeed);break;case i.Direction.left:this.setVelocity(-this.runSpeed,0);break;default:this.setVelocity(this.runSpeed,0)}}stand(){this.setState(i.CharacterState.stand),this.setVelocity(0,0)}changeDirection(e){this.direction=e}fromJSON(e){super.fromJSON(e),this.direction=e.direction,this.runSpeed=e.runSpeed,this.walkSpeed=e.walkSpeed,this.inventary.clear(),this.inventary.active=new r.Item(this.game,e.inventary.active);for(const t of e.inventary.items)this.inventary.set(t.name,new r.Item(this.game,t.name));return this.setStrength(e.strength),this}toJSON(){return Object.assign({},super.toJSON(),{direction:this.direction,inventary:this.inventary.toJSON(),runSpeed:this.runSpeed,strength:this.strength,walkSpeed:this.walkSpeed})}}t.Character=c,c.factory.add(c)},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Inventory=class extends Map{setActive(e){return this.active=e,this}toJSON(){return{active:this.active.name,items:[...this.values()]}}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(2);t.ItemFactory=class extends a.Factory{}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(1);class r extends a.Item{constructor(){super(...arguments),this.damage=0}setDamage(e){return this.damage=e,this}load(e){return super.load(e).setDamage(e.damage)}toJSON(){return Object.assign({},super.toJSON(),{damage:this.damage})}}t.ItemWeapon=r,a.Item.factory.add(r)},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(2);t.GameObjectFactory=class extends a.Factory{}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PreloaderState=class extends Phaser.State{preload(){this.loadingBar=this.game.add.sprite(0,240,"preloader_bar"),this.loadingBar.anchor.setTo(0,.5),this.load.setPreloadSprite(this.loadingBar),this.game.load.image("logo","images/StonesCreed.png")}create(){this.game.state.start("menu")}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9zdHJ1Y3R1cmVzL21pc2MvdHlwZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9zdHJ1Y3R1cmVzL2l0ZW1zL0l0ZW0udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9zdHJ1Y3R1cmVzL2NvbW1vbi9GYWN0b3J5LnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvc3RydWN0dXJlcy9nYW1lT2JqZWN0cy9HYW1lT2JqZWN0LnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvbWFpbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL3N0YXRlcy9Cb290U3RhdGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9zdGF0ZXMvTWVudVN0YXRlLnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvc3RhdGVzL1BsYXlTdGF0ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL3N0cnVjdHVyZXMvbWFuYWdlcnMvR2FtZU1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9zdHJ1Y3R1cmVzL21hbmFnZXJzL1N0b3JhZ2VNYW5hZ2VyLnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvc3RydWN0dXJlcy9nYW1lT2JqZWN0cy9jaGFyYWN0ZXJzL1BsYXllci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL3N0cnVjdHVyZXMvZ2FtZU9iamVjdHMvY2hhcmFjdGVycy9DaGFyYWN0ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9zdHJ1Y3R1cmVzL2NvbW1vbi9JbnZlbnRvcnkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9zdHJ1Y3R1cmVzL2l0ZW1zL0l0ZW1GYWN0b3J5LnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvc3RydWN0dXJlcy9pdGVtcy9JdGVtV2VhcG9uLnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvc3RydWN0dXJlcy9nYW1lT2JqZWN0cy9HYW1lT2JqZWN0RmFjdG9yeS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL3N0YXRlcy9QcmVsb2FkZXJTdGF0ZS50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkRpcmVjdGlvbiIsIkJvdWxkZXJTdGF0ZSIsIkhpZGluZ1R5cGUiLCJDaGFyYWN0ZXJTdGF0ZSIsImRlYWQiLCJydW4iLCJzdGFuZCIsIndhbGsiLCJQbGF5ZXJTdGF0ZSIsImFzc2lnbiIsImhpZGRlbiIsIkVuZW15U3RhdGUiLCJvblJvdXRlIiwicHVyc3VpdCIsIkl0ZW1GYWN0b3J5XzEiLCJJdGVtIiwiW29iamVjdCBPYmplY3RdIiwiZ2FtZSIsInRoaXMiLCJ0eXBlIiwiZGF0YSIsInNldE5hbWUiLCJzZXRUeXBlIiwiY29uc3RydWN0b3IiLCJmYWN0b3J5IiwiSXRlbUZhY3RvcnkiLCJhZGQiLCJGYWN0b3J5IiwiTWFwIiwiY3RvciIsInNldCIsIkdhbWVPYmplY3RGYWN0b3J5XzEiLCJHYW1lT2JqZWN0IiwiUGhhc2VyIiwiU3ByaXRlIiwiZ2FtZU1hbmFnZXIiLCJ4IiwieSIsImZyYW1lIiwic3VwZXIiLCJleGlzdGluZyIsImdhbWVPYmplY3RzIiwicHVzaCIsImJvZHkiLCJ2ZWxvY2l0eSIsImdhbWVPYmplY3QiLCJpbnRlcmFjdGlvbiIsIlR5cGVFcnJvciIsInBvc2l0aW9uIiwic2V0UG9zaXRpb24iLCJzZXRWZWxvY2l0eSIsIkdhbWVPYmplY3RGYWN0b3J5IiwiQm9vdFN0YXRlXzEiLCJNZW51U3RhdGVfMSIsIlBsYXlTdGF0ZV8xIiwiUHJlbG9hZGVyU3RhdGVfMSIsIndpbmRvdyIsIm9ubG9hZCIsIkdhbWUiLCJBVVRPIiwic3RhdGUiLCJCb290U3RhdGUiLCJQcmVsb2FkZXJTdGF0ZSIsIlBsYXlTdGF0ZSIsIk1lbnVTdGF0ZSIsInN0YXJ0IiwiU3RhdGUiLCJsb2FkIiwiaW1hZ2UiLCJ0ZXh0cyIsImxvZ28iLCJzdGFnZSIsImJhY2tncm91bmRDb2xvciIsInNwcml0ZSIsIndvcmxkIiwiY2VudGVyWCIsImNlbnRlclkiLCJhbmNob3IiLCJzZXRUbyIsInNjYWxlIiwiY3JlYXRlQnV0dG9uIiwiY2IiLCJ0ZXh0IiwiZm9udCIsImZpbGwiLCJhbGlnbiIsImlucHV0RW5hYmxlZCIsImV2ZW50cyIsIm9uSW5wdXRVcCIsIm9uSW5wdXREb3duIiwib25JbnB1dE92ZXIiLCJyZW1vdmVBbGwiLCJvbklucHV0T3V0IiwiYWxpZ25UbyIsImxlbmd0aCIsIkJPVFRPTV9DRU5URVIiLCJHYW1lTWFuYWdlcl8xIiwiR2FtZU1hbmFnZXIiLCJzdG9yYWdlTWFuYWdlciIsImNvbnNvbGUiLCJsb2ciLCJfYSIsIlN0b3JhZ2VNYW5hZ2VyXzEiLCJHYW1lTGV2ZWxzIiwibWFwTWFuYWdlciIsIlN0b3JhZ2VNYW5hZ2VyIiwicGxheWVyIiwibGV2ZWwiLCJGaXJzdCIsImRlc3Ryb3kiLCJQbGF5ZXJfMSIsIkdhbWVPYmplY3RfMSIsImxvY2FsU3RvcmFnZSIsImNsZWFyIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0b1N0cmluZyIsInJhd0xldmVsIiwiZ2V0SXRlbSIsIkVycm9yIiwiTnVtYmVyIiwicGFyc2UiLCJDdG9yIiwiZnJvbUpTT04iLCJmaW5kIiwiUGxheWVyIiwidHlwZXNfMSIsIkNoYXJhY3Rlcl8xIiwiQ2hhcmFjdGVyIiwiaGlkaW5nU3BvdCIsIm1vbmV5IiwiaGlkaW5nVHlwZSIsIm5vbmUiLCJzZXRTdGF0ZSIsImhlYWx0aCIsInRvSlNPTiIsIkludmVudG9yeV8xIiwiSXRlbV8xIiwiSXRlbVdlYXBvbl8xIiwid2Fsa1NwZWVkIiwicnVuU3BlZWQiLCJkaXJlY3Rpb24iLCJkb3duIiwiaW52ZW50YXJ5IiwiSW52ZW50b3J5Iiwic3RyZW5ndGgiLCJwaHlzaWNzIiwiZW5hYmxlIiwiZGFtYWdlU3RyZW5ndGgiLCJpdGVtIiwiYWN0aXZlIiwiSXRlbVdlYXBvbiIsImRhbWFnZSIsImNoYXJhY3RlciIsImtpbGwiLCJ1cCIsImxlZnQiLCJlbnRyeSIsIml0ZW1zIiwic2V0U3RyZW5ndGgiLCJ2YWx1ZXMiLCJGYWN0b3J5XzEiLCJzZXREYW1hZ2UiLCJsb2FkaW5nQmFyIiwic2V0UHJlbG9hZFNwcml0ZSJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLEdBQUEsQ0FDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxRQUFBLElBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEVBQUEsQ0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFDLFlBQUEsQ0FBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURtQixPQUFBLEtBUWpEckIsRUFBQXNCLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxH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aEIsT0FEQXZJLEtBQUt1SSxPQUFTQSxFQUNQdkksS0FHREYsS0FBS0ksR0FDWCxPQUFPbUIsTUFBTTRCLEtBQUsvQyxHQUFNK0ksVUFBVS9JLEVBQUtxSSxRQUdqQ3pJLFNBQ04sT0FBQXRDLE9BQUErQixPQUFBLEdBQ0k4QixNQUFNaUcsU0FBUSxDQUNqQmlCLE9BQVF2SSxLQUFLdUksVUFuQmhCM0wsRUFBQTBMLGFBeUJBZCxFQUFBM0gsS0FBS1MsUUFBUUUsSUFBSThILGtGQzNCakIsTUFBQVUsRUFBQXRNLEVBQUEsR0FHQUUsRUFBQXFGLGtCQUFBLGNBQXVDK0csRUFBQXZJLHlGQ0h2QzdELEVBQUFnRyxlQUFBLGNBQW9DN0IsT0FBT2lDLE1BSW5DbEQsVUFDTkUsS0FBS2tKLFdBQWFsSixLQUFLRCxLQUFLUyxJQUFJK0MsT0FBTyxFQUFHLElBQUssaUJBQy9DdkQsS0FBS2tKLFdBQVd2RixPQUFPQyxNQUFNLEVBQUcsSUFDaEM1RCxLQUFLaUQsS0FBS2tHLGlCQUFpQm5KLEtBQUtrSixZQUdoQ2xKLEtBQUtELEtBQUtrRCxLQUFLQyxNQUFNLE9BQVEsMEJBR3ZCcEQsU0FDTkUsS0FBS0QsS0FBSzJDLE1BQU1LLE1BQU0iLCJmaWxlIjoiYnVuZGxlLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA0KTtcbiIsIi8qKlxuICogVGhlIGRpcmVjdGlvbnNcbiAqL1xuZXhwb3J0IGVudW0gRGlyZWN0aW9uIHtcblx0dXAsXG5cdGRvd24sXG5cdHJpZ2h0LFxuXHRsZWZ0XG59XG5cbi8qKlxuICogVGhlIGJvdWxkZXIgc3RhdGVzXG4gKi9cbmV4cG9ydCBlbnVtIEJvdWxkZXJTdGF0ZSB7XG5cdHN0b3AsXG5cdG1vdmVcbn1cblxuLyoqXG4gKiBUaGUgaGlkaW5nIHR5cGVzXG4gKi9cbmV4cG9ydCBlbnVtIEhpZGluZ1R5cGUge1xuXHRub25lLFxuXHRidXNoZXMsXG5cdGNhdmUsXG5cdGhheXN0YWNrXG59XG5cbmV4cG9ydCBjb25zdCBDaGFyYWN0ZXJTdGF0ZTogSUNoYXJhY3RlclN0YXRlID0ge1xuXHRkZWFkOiAwLFxuXHRydW46IDEsXG5cdHN0YW5kOiAyLFxuXHR3YWxrOiAzXG59O1xuXG5leHBvcnQgY29uc3QgUGxheWVyU3RhdGU6IElQbGF5ZXJTdGF0ZSA9IHtcblx0Li4uQ2hhcmFjdGVyU3RhdGUsXG5cdGhpZGRlbjogNFxufTtcblxuZXhwb3J0IGNvbnN0IEVuZW15U3RhdGU6IElFbmVteVN0YXRlID0ge1xuXHQuLi5DaGFyYWN0ZXJTdGF0ZSxcblx0b25Sb3V0ZTogNCxcblx0cHVyc3VpdDogNVxufTtcblxuLyoqXG4gKiBUaGUgY2hhcmFjdGVyIHN0YXRlc1xuICovXG5pbnRlcmZhY2UgSUNoYXJhY3RlclN0YXRlIHtcblx0ZGVhZDogMDtcblx0cnVuOiAxO1xuXHRzdGFuZDogMjtcblx0d2FsazogMztcbn1cblxuLyoqXG4gKiBUaGUgcGxheWVyIHN0YXRlc1xuICovXG5pbnRlcmZhY2UgSVBsYXllclN0YXRlIGV4dGVuZHMgSUNoYXJhY3RlclN0YXRlIHtcblx0aGlkZGVuOiA0O1xufVxuXG4vKipcbiAqIFRoZSBlbmVteSBzdGF0ZXNcbiAqL1xuaW50ZXJmYWNlIElFbmVteVN0YXRlIGV4dGVuZHMgSUNoYXJhY3RlclN0YXRlIHtcblx0b25Sb3V0ZTogNDtcblx0cHVyc3VpdDogNTtcbn1cbiIsImltcG9ydCB7IEl0ZW1GYWN0b3J5IH0gZnJvbSAnLi9JdGVtRmFjdG9yeSc7XG5cbmV4cG9ydCBjbGFzcyBJdGVtIHtcblxuXHRwdWJsaWMgdHlwZSA9ICdpdGVtJztcblxuXHRwdWJsaWMgY29uc3RydWN0b3IocHVibGljIGdhbWU6IFBoYXNlci5HYW1lLCBwdWJsaWMgbmFtZTogc3RyaW5nKSB7IH1cblxuXHRwdWJsaWMgc2V0TmFtZShuYW1lOiBzdHJpbmcpIHtcblx0XHR0aGlzLm5hbWUgPSBuYW1lO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0cHVibGljIHNldFR5cGUodHlwZTogc3RyaW5nKSB7XG5cdFx0dGhpcy50eXBlID0gdHlwZTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdHB1YmxpYyBsb2FkKGRhdGE6IElJdGVtU2VyaWFsaXplZCkge1xuXHRcdHJldHVybiB0aGlzXG5cdFx0XHQuc2V0TmFtZShkYXRhLm5hbWUpXG5cdFx0XHQuc2V0VHlwZShkYXRhLnR5cGUpO1xuXHR9XG5cblx0cHVibGljIHRvSlNPTigpOiBJSXRlbVNlcmlhbGl6ZWQge1xuXHRcdHJldHVybiB7XG5cdFx0XHRuYW1lOiB0aGlzLm5hbWUsXG5cdFx0XHR0eXBlOiB0aGlzLmNvbnN0cnVjdG9yLm5hbWVcblx0XHR9O1xuXHR9XG5cblx0cHVibGljIHN0YXRpYyBmYWN0b3J5ID0gbmV3IEl0ZW1GYWN0b3J5KCk7XG5cbn1cblxuSXRlbS5mYWN0b3J5LmFkZChJdGVtKTtcblxuLyoqXG4gKiBUaGUgc2VyaWFsaXplZCBpdGVtIGRhdGFcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJSXRlbVNlcmlhbGl6ZWQge1xuXHRuYW1lOiBzdHJpbmc7XG5cdHR5cGU6IHN0cmluZztcbn1cbiIsImV4cG9ydCBjbGFzcyBGYWN0b3J5PFYsIEMgZXh0ZW5kcyBuZXcgKC4uLmFyZ3M6IGFueVtdKSA9PiBWPiBleHRlbmRzIE1hcDxzdHJpbmcsIEM+IHtcblxuXHRwdWJsaWMgYWRkKGN0b3I6IEMpIHtcblx0XHR0aGlzLnNldChjdG9yLm5hbWUsIGN0b3IpO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cbn1cbiIsImltcG9ydCB7IEdhbWVNYW5hZ2VyIH0gZnJvbSAnLi4vbWFuYWdlcnMvR2FtZU1hbmFnZXInO1xuaW1wb3J0IHsgR2FtZU9iamVjdEZhY3RvcnkgfSBmcm9tICcuL0dhbWVPYmplY3RGYWN0b3J5JztcblxuZXhwb3J0IGNsYXNzIEdhbWVPYmplY3QgZXh0ZW5kcyBQaGFzZXIuU3ByaXRlIHtcblxuXHRwdWJsaWMgY29uc3RydWN0b3IocHVibGljIGdhbWVNYW5hZ2VyOiBHYW1lTWFuYWdlciwgeDogbnVtYmVyLCB5OiBudW1iZXIsIGtleT86IHN0cmluZywgZnJhbWU/OiBzdHJpbmcpIHtcblx0XHRzdXBlcihnYW1lTWFuYWdlci5nYW1lLCB4LCB5LCBrZXksIGZyYW1lKTtcblx0XHQvLyBBZGQgdGhlIGdhbWVvYmplY3QgaXRzZWxmIHRvIHRoZSBnYW1lXG5cdFx0dGhpcy5nYW1lLmFkZC5leGlzdGluZyh0aGlzKTtcblx0XHR0aGlzLmdhbWVNYW5hZ2VyLmdhbWVPYmplY3RzLnB1c2godGhpcyk7XG5cdH1cblxuXHQvKipcblx0ICogU2V0IHRoZSBwb3NpdGlvbiBmb3IgdGhpcyBnYW1lIG9iamVjdFxuXHQgKiBAcGFyYW0geCBUaGUgbmV3IHggcG9zaXRpb25cblx0ICogQHBhcmFtIHkgVGhlIG5ldyB5IHBvc2l0aW9uXG5cdCAqL1xuXHRwdWJsaWMgc2V0UG9zaXRpb24oeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcblx0XHR0aGlzLmJvZHkueCA9IHg7XG5cdFx0dGhpcy5ib2R5LnkgPSB5O1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0LyoqXG5cdCAqIFNldCB0aGUgdmVsb2NpdHkgZm9yIHRoaXMgZ2FtZSBvYmplY3Rcblx0ICogQHBhcmFtIHggVGhlIG5ldyB4IHZlbG9jaXR5XG5cdCAqIEBwYXJhbSB5IFRoZSBuZXcgeSB2ZWxvY2l0eVxuXHQgKi9cblx0cHVibGljIHNldFZlbG9jaXR5KHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG5cdFx0dGhpcy5ib2R5LnZlbG9jaXR5LnggPSB4O1xuXHRcdHRoaXMuYm9keS52ZWxvY2l0eS55ID0geTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdC8qKlxuXHQgKiBJbnRlcmFjdHMgd2l0aCBhIGdhbWUgb2JqZWN0IGZyb20gdGhlIGdhbWVcblx0ICogQHBhcmFtIGdhbWVPYmplY3QgVGhlIGdhbWUgb2JqZWN0IHRvIGludGVyYWN0IHdpdGhcblx0ICovXG5cdHB1YmxpYyBpbnRlcmFjdChnYW1lT2JqZWN0OiBHYW1lT2JqZWN0KSB7XG5cdFx0Z2FtZU9iamVjdC5pbnRlcmFjdGlvbih0aGlzKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdC8qKlxuXHQgKiBIYW5kbGUgdGhlIGludGVyYWN0aW9ucyB0byB0aGlzIGdhbWUgb2JqZWN0XG5cdCAqIEBwYXJhbSBnYW1lT2JqZWN0IFRoZSBnYW1lIG9iamVjdCB0aGF0IGludGVyYWN0ZWQgd2l0aCB0aGlzIGluc3RhbmNlXG5cdCAqL1xuXHRwdWJsaWMgaW50ZXJhY3Rpb24oZ2FtZU9iamVjdDogR2FtZU9iamVjdCkge1xuXHRcdGlmICghKGdhbWVPYmplY3QgaW5zdGFuY2VvZiBHYW1lT2JqZWN0KSlcblx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkIGdhbWVPYmplY3QgdG8gYmUgYSBHYW1lT2JqZWN0IGluc3RhbmNlYCk7XG5cdH1cblxuXHRwdWJsaWMgdG9KU09OKCk6IElHYW1lT2JqZWN0U2VyaWFsaXplZCB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGZyYW1lOiB0aGlzLmZyYW1lIGFzIHN0cmluZyxcblx0XHRcdGtleTogdGhpcy5rZXkgYXMgc3RyaW5nLFxuXHRcdFx0bmFtZTogdGhpcy5uYW1lLFxuXHRcdFx0cG9zaXRpb246IHtcblx0XHRcdFx0eDogdGhpcy5wb3NpdGlvbi54LFxuXHRcdFx0XHR5OiB0aGlzLnBvc2l0aW9uLnlcblx0XHRcdH0sXG5cdFx0XHR0eXBlOiB0aGlzLmNvbnN0cnVjdG9yLm5hbWUsXG5cdFx0XHR2ZWxvY2l0eToge1xuXHRcdFx0XHR4OiB0aGlzLmJvZHkudmVsb2NpdHkueCxcblx0XHRcdFx0eTogdGhpcy5ib2R5LnZlbG9jaXR5Lnlcblx0XHRcdH1cblx0XHR9O1xuXHR9XG5cblx0cHVibGljIGZyb21KU09OKGRhdGE6IElHYW1lT2JqZWN0U2VyaWFsaXplZCkge1xuXHRcdHRoaXMuZnJhbWUgPSBkYXRhLmZyYW1lO1xuXHRcdHRoaXMua2V5ID0gZGF0YS5rZXk7XG5cdFx0dGhpcy5uYW1lID0gZGF0YS5uYW1lO1xuXHRcdHJldHVybiB0aGlzXG5cdFx0XHQuc2V0UG9zaXRpb24oZGF0YS5wb3NpdGlvbi54LCBkYXRhLnBvc2l0aW9uLnkpXG5cdFx0XHQuc2V0VmVsb2NpdHkoZGF0YS52ZWxvY2l0eS54LCBkYXRhLnZlbG9jaXR5LnkpO1xuXHR9XG5cblx0cHVibGljIHN0YXRpYyBmYWN0b3J5ID0gbmV3IEdhbWVPYmplY3RGYWN0b3J5KCk7XG5cbn1cblxuR2FtZU9iamVjdC5mYWN0b3J5LmFkZChHYW1lT2JqZWN0KTtcblxuLyoqXG4gKiBUaGUgc2VyaWFsaXplZCBnYW1lIG9iamVjdCBkYXRhXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSUdhbWVPYmplY3RTZXJpYWxpemVkIHtcblx0ZnJhbWU6IHN0cmluZztcblx0a2V5OiBzdHJpbmc7XG5cdG5hbWU6IHN0cmluZztcblx0cG9zaXRpb246IHtcblx0XHR4OiBudW1iZXI7XG5cdFx0eTogbnVtYmVyO1xuXHR9O1xuXHR0eXBlOiBzdHJpbmc7XG5cdHZlbG9jaXR5OiB7XG5cdFx0eDogbnVtYmVyO1xuXHRcdHk6IG51bWJlcjtcblx0fTtcbn1cbiIsImltcG9ydCB7IEJvb3RTdGF0ZSB9IGZyb20gJy4vc3RhdGVzL0Jvb3RTdGF0ZSc7XG5pbXBvcnQgeyBNZW51U3RhdGUgfSBmcm9tICcuL3N0YXRlcy9NZW51U3RhdGUnO1xuaW1wb3J0IHsgUGxheVN0YXRlIH0gZnJvbSAnLi9zdGF0ZXMvUGxheVN0YXRlJztcbmltcG9ydCB7IFByZWxvYWRlclN0YXRlIH0gZnJvbSAnLi9zdGF0ZXMvUHJlbG9hZGVyU3RhdGUnO1xuXG53aW5kb3cub25sb2FkID0gZnVuY3Rpb24gb25sb2FkKCkge1xuXHRjb25zdCBnYW1lID0gbmV3IFBoYXNlci5HYW1lKDgwMCwgNjAwLCBQaGFzZXIuQVVUTywgJ2dhbWUnKTtcblxuXHRnYW1lLnN0YXRlLmFkZCgnYm9vdCcsIEJvb3RTdGF0ZSk7XG5cdGdhbWUuc3RhdGUuYWRkKCdwcmVsb2FkZXInLCBQcmVsb2FkZXJTdGF0ZSk7XG5cdGdhbWUuc3RhdGUuYWRkKCdwbGF5JywgUGxheVN0YXRlKTtcblx0Z2FtZS5zdGF0ZS5hZGQoJ21lbnUnLCBNZW51U3RhdGUpO1xuXG5cdGdhbWUuc3RhdGUuc3RhcnQoJ2Jvb3QnKTtcbn07XG4iLCJcbmV4cG9ydCBjbGFzcyBCb290U3RhdGUgZXh0ZW5kcyBQaGFzZXIuU3RhdGUge1xuXHRwdWJsaWMgcHJlbG9hZCgpIHtcblx0XHQvLyBsb2FkIGhlcmUgYXNzZXRzIHJlcXVpcmVkIGZvciB0aGUgbG9hZGluZyBzY3JlZW5cblx0XHR0aGlzLmdhbWUubG9hZC5pbWFnZSgncHJlbG9hZGVyX2JhcicsICdpbWFnZXMvcHJlbG9hZGVyX2Jhci5wbmcnKTtcblx0fVxuXG5cdHB1YmxpYyBjcmVhdGUoKSB7XG5cdFx0dGhpcy5nYW1lLnN0YXRlLnN0YXJ0KCdwcmVsb2FkZXInKTtcblx0fVxufVxuIiwiZXhwb3J0IGNsYXNzIE1lbnVTdGF0ZSBleHRlbmRzIFBoYXNlci5TdGF0ZSB7XG5cblx0cHVibGljIHRleHRzOiBQaGFzZXIuVGV4dFtdID0gW107XG5cdHB1YmxpYyBsb2dvOiBQaGFzZXIuU3ByaXRlID0gbnVsbDtcblxuXHRwdWJsaWMgY3JlYXRlKCkge1xuXHRcdHRoaXMuZ2FtZS5zdGFnZS5iYWNrZ3JvdW5kQ29sb3IgPSAnIzJBMUIxOSc7XG5cdFx0dGhpcy5sb2dvID0gdGhpcy5nYW1lLmFkZC5zcHJpdGUodGhpcy5nYW1lLndvcmxkLmNlbnRlclgsIHRoaXMuZ2FtZS53b3JsZC5jZW50ZXJZIC0gMTIwLCAnbG9nbycpO1xuXHRcdHRoaXMubG9nby5hbmNob3Iuc2V0VG8oMC41LCAwLjUpO1xuXHRcdHRoaXMubG9nby5zY2FsZS5zZXRUbygwLjUsIDAuNSk7XG5cblx0XHR0aGlzLmNyZWF0ZUJ1dHRvbigoKSA9PiB0aGlzLmdhbWUuc3RhdGUuc3RhcnQoJ3BsYXknKSk7XG5cdH1cblxuXHRwcml2YXRlIGNyZWF0ZUJ1dHRvbihjYjogRnVuY3Rpb24pIHtcblx0XHRjb25zdCB0ZXh0ID0gdGhpcy5nYW1lLmFkZC50ZXh0KHRoaXMuZ2FtZS53b3JsZC5jZW50ZXJYLCB0aGlzLmdhbWUud29ybGQuY2VudGVyWSwgJ1BsYXknLCB7IGZvbnQ6ICc2NXB4IEFyaWFsJywgZmlsbDogJyNDRENEQ0QnLCBhbGlnbjogJ2NlbnRlcicgfSk7XG5cdFx0dGV4dC5hbmNob3Iuc2V0KDAuNSk7XG5cdFx0dGV4dC5pbnB1dEVuYWJsZWQgPSB0cnVlO1xuXHRcdHRleHQuZXZlbnRzLm9uSW5wdXRVcC5hZGQoY2IsIHRoaXMpO1xuXHRcdHRleHQuZXZlbnRzLm9uSW5wdXREb3duLmFkZCgoKSA9PiB7XG5cdFx0XHR0ZXh0LmZpbGwgPSAnI0ZGMDA0NCc7XG5cdFx0XHR0ZXh0LmV2ZW50cy5vbklucHV0T3Zlci5yZW1vdmVBbGwoKTtcblx0XHRcdHRleHQuZXZlbnRzLm9uSW5wdXRPdXQucmVtb3ZlQWxsKCk7XG5cdFx0fSk7XG5cdFx0dGV4dC5ldmVudHMub25JbnB1dE92ZXIuYWRkKCgpID0+IHsgdGV4dC5maWxsID0gJyNGRkZGRkYnOyB9KTtcblx0XHR0ZXh0LmV2ZW50cy5vbklucHV0T3V0LmFkZCgoKSA9PiB7IHRleHQuZmlsbCA9ICcjRUZFRkVGJzsgfSk7XG5cdFx0dGhpcy50ZXh0cy5wdXNoKHRleHQpO1xuXHRcdHRleHQuYWxpZ25Ubyh0aGlzLnRleHRzLmxlbmd0aCA/IHRoaXMudGV4dHNbdGhpcy50ZXh0cy5sZW5ndGggLSAxXSA6IHRoaXMubG9nbywgUGhhc2VyLkJPVFRPTV9DRU5URVIsIDE2KTtcblx0fVxuXG59XG4iLCJpbXBvcnQgeyBHYW1lTWFuYWdlciB9IGZyb20gJy4uL3N0cnVjdHVyZXMvbWFuYWdlcnMvR2FtZU1hbmFnZXInO1xuXG5leHBvcnQgY2xhc3MgUGxheVN0YXRlIGV4dGVuZHMgUGhhc2VyLlN0YXRlIHtcblx0cHVibGljIGdhbWVNYW5hZ2VyID0gbmV3IEdhbWVNYW5hZ2VyKHRoaXMuZ2FtZSk7XG5cblx0cHVibGljIHByZWxvYWQoKSB7XG5cdFx0dHJ5IHtcblx0XHRcdHRoaXMuZ2FtZU1hbmFnZXIuc3RvcmFnZU1hbmFnZXIubG9hZCgpO1xuXHRcdFx0Y29uc29sZS5sb2coJ0xvYWRlZCBwcmV2aW91cyBnYW1lIGZyb20gc3RvcmFnZS4nKTtcblx0XHR9IGNhdGNoIHtcblx0XHRcdGNvbnNvbGUubG9nKCdMb2FkaW5nIG5ldyBnYW1lLicpO1xuXHRcdH1cblx0fVxuXG5cdHB1YmxpYyBjcmVhdGUoKSB7XG5cdFx0Y29uc3QgbG9nbyA9IHRoaXMuZ2FtZS5hZGQuc3ByaXRlKFxuXHRcdFx0dGhpcy5nYW1lLndvcmxkLmNlbnRlclgsIHRoaXMuZ2FtZS53b3JsZC5jZW50ZXJZLCAnbG9nbycpO1xuXHRcdGxvZ28uYW5jaG9yLnNldFRvKDAuNSwgMC41KTtcblx0fVxuXG59XG4iLCJpbXBvcnQgeyBQbGF5ZXIgfSBmcm9tICcuLi9nYW1lT2JqZWN0cy9jaGFyYWN0ZXJzL1BsYXllcic7XG5pbXBvcnQgeyBHYW1lT2JqZWN0IH0gZnJvbSAnLi4vZ2FtZU9iamVjdHMvR2FtZU9iamVjdCc7XG5pbXBvcnQgeyBNYXBNYW5hZ2VyIH0gZnJvbSAnLi9NYXBNYW5hZ2VyJztcbmltcG9ydCB7IFN0b3JhZ2VNYW5hZ2VyIH0gZnJvbSAnLi9TdG9yYWdlTWFuYWdlcic7XG5cbmV4cG9ydCBjbGFzcyBHYW1lTWFuYWdlciB7XG5cdHB1YmxpYyBtYXBNYW5hZ2VyOiBNYXBNYW5hZ2VyID0gbnVsbDtcblx0cHVibGljIHN0b3JhZ2VNYW5hZ2VyID0gbmV3IFN0b3JhZ2VNYW5hZ2VyKHRoaXMpO1xuXHRwdWJsaWMgZ2FtZU9iamVjdHM6IEdhbWVPYmplY3RbXSA9IFtdO1xuXHRwdWJsaWMgcGxheWVyOiBQbGF5ZXIgPSBudWxsO1xuXHRwdWJsaWMgbGV2ZWwgPSBHYW1lTGV2ZWxzLkZpcnN0O1xuXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihwdWJsaWMgZ2FtZTogUGhhc2VyLkdhbWUpIHt9XG5cblx0cHVibGljIGNsZWFyKCkge1xuXHRcdGZvciAoY29uc3QgZ2FtZU9iamVjdCBvZiB0aGlzLmdhbWVPYmplY3RzKSBnYW1lT2JqZWN0LmRlc3Ryb3kodHJ1ZSk7XG5cdFx0dGhpcy5nYW1lT2JqZWN0cy5sZW5ndGggPSAwO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cbn1cblxuLyoqXG4gKiBUaGUgZ2FtZSdzIGxldmVsc1xuICovXG5leHBvcnQgZW51bSBHYW1lTGV2ZWxzIHtcblx0Rmlyc3Rcbn1cbiIsImltcG9ydCB7IFBsYXllciB9IGZyb20gJy4uL2dhbWVPYmplY3RzL2NoYXJhY3RlcnMvUGxheWVyJztcbmltcG9ydCB7IEdhbWVPYmplY3QsIElHYW1lT2JqZWN0U2VyaWFsaXplZCB9IGZyb20gJy4uL2dhbWVPYmplY3RzL0dhbWVPYmplY3QnO1xuaW1wb3J0IHsgR2FtZU1hbmFnZXIgfSBmcm9tICcuL0dhbWVNYW5hZ2VyJztcblxuZXhwb3J0IGNsYXNzIFN0b3JhZ2VNYW5hZ2VyIHtcblxuXHRwdWJsaWMgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBnYW1lTWFuYWdlcjogR2FtZU1hbmFnZXIpIHsgfVxuXG5cdHB1YmxpYyBzYXZlKCkge1xuXHRcdGxvY2FsU3RvcmFnZS5jbGVhcigpO1xuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdnYW1lT2JqZWN0cycsIEpTT04uc3RyaW5naWZ5KHRoaXMuZ2FtZU1hbmFnZXIuZ2FtZU9iamVjdHMpKTtcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbGV2ZWwnLCB0aGlzLmdhbWVNYW5hZ2VyLmxldmVsLnRvU3RyaW5nKCkpO1xuXHR9XG5cblx0cHVibGljIGxvYWQoKSB7XG5cdFx0Ly8gQ2xlYXIgdGhlIGdhbWUgbWFuYWdlclxuXHRcdHRoaXMuZ2FtZU1hbmFnZXIuY2xlYXIoKTtcblxuXHRcdC8vIExvYWQgdGhlIGRhdGFcblx0XHRjb25zdCByYXdMZXZlbCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsZXZlbCcpO1xuXHRcdGlmIChyYXdMZXZlbCA9PT0gbnVsbCkgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgZmluZCBhIHNhdmVkIGZpbGUuYCk7XG5cdFx0Y29uc3QgbGV2ZWwgPSBOdW1iZXIocmF3TGV2ZWwpO1xuXG5cdFx0dGhpcy5nYW1lTWFuYWdlci5sZXZlbCA9IGxldmVsO1xuXG5cdFx0Y29uc3QgZ2FtZU9iamVjdHMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdnYW1lT2JqZWN0cycpKSBhcyBJR2FtZU9iamVjdFNlcmlhbGl6ZWRbXTtcblx0XHRpZiAoZ2FtZU9iamVjdHMpIHtcblx0XHRcdGZvciAoY29uc3QgZ2FtZU9iamVjdCBvZiBnYW1lT2JqZWN0cykge1xuXHRcdFx0XHRjb25zdCBDdG9yID0gR2FtZU9iamVjdC5mYWN0b3J5LmdldChnYW1lT2JqZWN0LnR5cGUpO1xuXHRcdFx0XHRpZiAoQ3RvcikgbmV3IEN0b3IodGhpcy5nYW1lTWFuYWdlciwgMCwgMCkuZnJvbUpTT04oZ2FtZU9iamVjdCk7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihgQ291bGQgbm90IGZpbmQgYSBjb25zdHJ1Y3RvciBmb3IgJHtnYW1lT2JqZWN0LnR5cGUgfHwgJ3Vua25vd24nfS4gQWJvcnRpbmcuYCk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuZ2FtZU1hbmFnZXIucGxheWVyID0gdGhpcy5nYW1lTWFuYWdlci5nYW1lT2JqZWN0cy5maW5kKChnYW1lT2JqZWN0KSA9PiBnYW1lT2JqZWN0IGluc3RhbmNlb2YgUGxheWVyKSBhcyBQbGF5ZXI7XG5cdFx0fVxuXHR9XG5cbn1cbiIsImltcG9ydCB7IEdhbWVNYW5hZ2VyIH0gZnJvbSAnLi4vLi4vbWFuYWdlcnMvR2FtZU1hbmFnZXInO1xuaW1wb3J0IHsgSGlkaW5nVHlwZSwgUGxheWVyU3RhdGUgfSBmcm9tICcuLi8uLi9taXNjL3R5cGVzJztcbmltcG9ydCB7IEhpZGluZ1Nwb3QsIElIaWRpbmdTcG90U2VyaWFsaXplZCB9IGZyb20gJy4uL2hpZGluZ1Nwb3RzL0hpZGluZ1Nwb3QnO1xuaW1wb3J0IHsgQ2hhcmFjdGVyLCBJQ2hhcmFjdGVyU2VyaWFsaXplZCB9IGZyb20gJy4vQ2hhcmFjdGVyJztcblxuZXhwb3J0IGNsYXNzIFBsYXllciBleHRlbmRzIENoYXJhY3RlciB7XG5cblx0cHVibGljIGhpZGluZ1Nwb3Q6IEhpZGluZ1Nwb3QgPSBudWxsO1xuXHRwdWJsaWMgbW9uZXkgPSAwO1xuXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihnYW1lTWFuYWdlcjogR2FtZU1hbmFnZXIsIHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG5cdFx0c3VwZXIoZ2FtZU1hbmFnZXIsIHgsIHksICdwbGF5ZXInKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBIaWRlcyB0aGUgcGxheWVyLCBjaGFuZ2luZyB0aGUgc3RhdGUgYW5kIHNldHRpbmcgdGhlIGhpZGluZyBzcG90XG5cdCAqIEBwYXJhbSBoaWRpbmdTcG90IFRoZSBoaWRpbmcgc3BvdFxuXHQgKi9cblx0cHVibGljIGhpZGUoaGlkaW5nU3BvdDogSGlkaW5nU3BvdCkge1xuXHRcdGlmIChoaWRpbmdTcG90LmhpZGluZ1R5cGUgIT09IEhpZGluZ1R5cGUubm9uZSkge1xuXHRcdFx0dGhpcy5zZXRTdGF0ZShQbGF5ZXJTdGF0ZS5oaWRkZW4pO1xuXHRcdFx0dGhpcy5oaWRpbmdTcG90ID0gaGlkaW5nU3BvdDtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHQvKipcblx0ICogUmV2ZWFscyB0aGUgcGxheWVyLCBsZWF2aW5nIHRoZSBoaWRpbmcgcGxhY2UgaWYgdGhlcmUgd2FzIGFueVxuXHQgKi9cblx0cHVibGljIHJldmVhbCgpIHtcblx0XHRpZiAodGhpcy5oaWRpbmdTcG90KSB7XG5cdFx0XHR0aGlzLnNldFN0YXRlKHRoaXMuaGVhbHRoID8gUGxheWVyU3RhdGUuc3RhbmQgOiBQbGF5ZXJTdGF0ZS5kZWFkKTtcblx0XHRcdHRoaXMuaGlkaW5nU3BvdCA9IG51bGw7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0cHVibGljIGZyb21KU09OKGRhdGE6IElQbGF5ZXJTZXJpYWxpemVkKSB7XG5cdFx0c3VwZXIuZnJvbUpTT04oZGF0YSk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHRwdWJsaWMgdG9KU09OKCk6IElQbGF5ZXJTZXJpYWxpemVkIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Li4uc3VwZXIudG9KU09OKCksXG5cdFx0XHRoaWRpbmdTcG90OiB0aGlzLmhpZGluZ1Nwb3QudG9KU09OKCksXG5cdFx0XHRtb25leTogdGhpcy5tb25leVxuXHRcdH07XG5cdH1cblxufVxuXG5QbGF5ZXIuZmFjdG9yeS5hZGQoUGxheWVyKTtcblxuLyoqXG4gKiBUaGUgc2VyaWFsaXplZCBwbGF5ZXIgZGF0YVxuICovXG5leHBvcnQgaW50ZXJmYWNlIElQbGF5ZXJTZXJpYWxpemVkIGV4dGVuZHMgSUNoYXJhY3RlclNlcmlhbGl6ZWQge1xuXHRoaWRpbmdTcG90OiBJSGlkaW5nU3BvdFNlcmlhbGl6ZWQ7XG5cdG1vbmV5OiBudW1iZXI7XG59XG4iLCJpbXBvcnQgeyBJSW52ZW50b3J5U2VyaWFsaXplZCwgSW52ZW50b3J5IH0gZnJvbSAnLi4vLi4vY29tbW9uL0ludmVudG9yeSc7XG5pbXBvcnQgeyBJdGVtIH0gZnJvbSAnLi4vLi4vaXRlbXMvSXRlbSc7XG5pbXBvcnQgeyBJdGVtV2VhcG9uIH0gZnJvbSAnLi4vLi4vaXRlbXMvSXRlbVdlYXBvbic7XG5pbXBvcnQgeyBHYW1lTWFuYWdlciB9IGZyb20gJy4uLy4uL21hbmFnZXJzL0dhbWVNYW5hZ2VyJztcbmltcG9ydCB7IENoYXJhY3RlclN0YXRlLCBEaXJlY3Rpb24gfSBmcm9tICcuLi8uLi9taXNjL3R5cGVzJztcbmltcG9ydCB7IEdhbWVPYmplY3QsIElHYW1lT2JqZWN0U2VyaWFsaXplZCB9IGZyb20gJy4uL0dhbWVPYmplY3QnO1xuXG5leHBvcnQgY2xhc3MgQ2hhcmFjdGVyIGV4dGVuZHMgR2FtZU9iamVjdCB7XG5cdHB1YmxpYyB3YWxrU3BlZWQgPSAwO1xuXHRwdWJsaWMgcnVuU3BlZWQgPSAwO1xuXHRwdWJsaWMgc3RhdGU6IG51bWJlciA9IENoYXJhY3RlclN0YXRlLnN0YW5kO1xuXHRwdWJsaWMgZGlyZWN0aW9uID0gRGlyZWN0aW9uLmRvd247XG5cdHB1YmxpYyBpbnZlbnRhcnkgPSBuZXcgSW52ZW50b3J5KCk7XG5cdHB1YmxpYyBzdHJlbmd0aCA9IDA7XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKGdhbWVNYW5hZ2VyOiBHYW1lTWFuYWdlciwgeDogbnVtYmVyLCB5OiBudW1iZXIsIGtleT86IHN0cmluZywgZnJhbWU/OiBzdHJpbmcpIHtcblx0XHRzdXBlcihnYW1lTWFuYWdlciwgeCwgeSwga2V5LCBmcmFtZSk7XG5cdFx0dGhpcy5nYW1lLnBoeXNpY3MuZW5hYmxlKHRoaXMpO1xuXHR9XG5cblx0cHVibGljIGdldCBkYW1hZ2VTdHJlbmd0aCgpIHtcblx0XHRjb25zdCBpdGVtID0gdGhpcy5pbnZlbnRhcnkuYWN0aXZlO1xuXHRcdHJldHVybiBpdGVtIGluc3RhbmNlb2YgSXRlbVdlYXBvbiA/IGl0ZW0uZGFtYWdlIDogdGhpcy5zdHJlbmd0aDtcblx0fVxuXG5cdHB1YmxpYyBzZXRTdHJlbmd0aChzdHJlbmd0aDogbnVtYmVyKSB7XG5cdFx0dGhpcy5zdHJlbmd0aCA9IHN0cmVuZ3RoO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0cHVibGljIHNldFN0YXRlKHN0YXRlOiBudW1iZXIpIHtcblx0XHR0aGlzLnN0YXRlID0gc3RhdGU7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHQvKipcblx0ICogVHJ5IHRvIGF0dGFjayBhIGNoYXJhY3RlclxuXHQgKiBAcGFyYW0gY2hhcmFjdGVyIFRoZSBjaGFyYWN0ZXIgdGhpcyBvbmUgaXMgYXR0ZW1wdGluZyB0byBhdHRhY2tcblx0ICovXG5cdHB1YmxpYyBhdHRhY2soY2hhcmFjdGVyOiBDaGFyYWN0ZXIpIHtcblx0XHRjaGFyYWN0ZXIuZGFtYWdlKHRoaXMuZGFtYWdlU3RyZW5ndGgpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEtpbGwgb3ZlcmxvYWQgdG8gc2V0IHRoZSBjaGFyYWN0ZXIncyBzdGF0ZVxuXHQgKi9cblx0cHVibGljIGtpbGwoKSB7XG5cdFx0dGhpcy5zZXRTdGF0ZShDaGFyYWN0ZXJTdGF0ZS5kZWFkKTtcblx0XHRyZXR1cm4gc3VwZXIua2lsbCgpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFNldHMgdGhlIHN0YXRlIG9mIHRoaXMgY2hhcmFjdGVyIHRvIHdhbGtcblx0ICovXG5cdHB1YmxpYyB3YWxrKCkge1xuXHRcdHRoaXMuc2V0U3RhdGUoQ2hhcmFjdGVyU3RhdGUud2Fsayk7XG5cdFx0c3dpdGNoICh0aGlzLmRpcmVjdGlvbikge1xuXHRcdFx0Y2FzZSBEaXJlY3Rpb24uZG93bjogdGhpcy5zZXRWZWxvY2l0eSgwLCB0aGlzLndhbGtTcGVlZCk7IGJyZWFrO1xuXHRcdFx0Y2FzZSBEaXJlY3Rpb24udXA6IHRoaXMuc2V0VmVsb2NpdHkoMCwgLXRoaXMud2Fsa1NwZWVkKTsgYnJlYWs7XG5cdFx0XHRjYXNlIERpcmVjdGlvbi5sZWZ0OiB0aGlzLnNldFZlbG9jaXR5KC10aGlzLndhbGtTcGVlZCwgMCk7IGJyZWFrO1xuXHRcdFx0ZGVmYXVsdDogdGhpcy5zZXRWZWxvY2l0eSh0aGlzLndhbGtTcGVlZCwgMCk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFNldHMgdGhlIHN0YXRlIG9mIHRoaXMgY2hhcmFjdGVyIHRvIHJ1blxuXHQgKi9cblx0cHVibGljIHJ1bigpIHtcblx0XHR0aGlzLnNldFN0YXRlKENoYXJhY3RlclN0YXRlLnJ1bik7XG5cdFx0c3dpdGNoICh0aGlzLmRpcmVjdGlvbikge1xuXHRcdFx0Y2FzZSBEaXJlY3Rpb24uZG93bjogdGhpcy5zZXRWZWxvY2l0eSgwLCB0aGlzLnJ1blNwZWVkKTsgYnJlYWs7XG5cdFx0XHRjYXNlIERpcmVjdGlvbi51cDogdGhpcy5zZXRWZWxvY2l0eSgwLCAtdGhpcy5ydW5TcGVlZCk7IGJyZWFrO1xuXHRcdFx0Y2FzZSBEaXJlY3Rpb24ubGVmdDogdGhpcy5zZXRWZWxvY2l0eSgtdGhpcy5ydW5TcGVlZCwgMCk7IGJyZWFrO1xuXHRcdFx0ZGVmYXVsdDogdGhpcy5zZXRWZWxvY2l0eSh0aGlzLnJ1blNwZWVkLCAwKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogU2V0cyB0aGUgc3RhdGUgb2YgdGhpcyBjaGFyYWN0ZXIgdG8gc3RhbmQsIGNoYW5naW5nXG5cdCAqL1xuXHRwdWJsaWMgc3RhbmQoKSB7XG5cdFx0dGhpcy5zZXRTdGF0ZShDaGFyYWN0ZXJTdGF0ZS5zdGFuZCk7XG5cdFx0dGhpcy5zZXRWZWxvY2l0eSgwLCAwKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDaGFuZ2UgdGhlIGRpcmVjdGlvbiBmb3IgdGhpcyBjaGFyYWN0ZXJcblx0ICogQHBhcmFtIGRpcmVjdGlvbiBUaGUgbmV3IGRpcmVjdGlvblxuXHQgKi9cblx0cHVibGljIGNoYW5nZURpcmVjdGlvbihkaXJlY3Rpb246IERpcmVjdGlvbikge1xuXHRcdHRoaXMuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuXHR9XG5cblx0cHVibGljIGZyb21KU09OKGRhdGE6IElDaGFyYWN0ZXJTZXJpYWxpemVkKSB7XG5cdFx0c3VwZXIuZnJvbUpTT04oZGF0YSk7XG5cdFx0dGhpcy5kaXJlY3Rpb24gPSBkYXRhLmRpcmVjdGlvbjtcblx0XHR0aGlzLnJ1blNwZWVkID0gZGF0YS5ydW5TcGVlZDtcblx0XHR0aGlzLndhbGtTcGVlZCA9IGRhdGEud2Fsa1NwZWVkO1xuXHRcdHRoaXMuaW52ZW50YXJ5LmNsZWFyKCk7XG5cdFx0dGhpcy5pbnZlbnRhcnkuYWN0aXZlID0gbmV3IEl0ZW0odGhpcy5nYW1lLCBkYXRhLmludmVudGFyeS5hY3RpdmUpO1xuXHRcdGZvciAoY29uc3QgZW50cnkgb2YgZGF0YS5pbnZlbnRhcnkuaXRlbXMpIHRoaXMuaW52ZW50YXJ5LnNldChlbnRyeS5uYW1lLCBuZXcgSXRlbSh0aGlzLmdhbWUsIGVudHJ5Lm5hbWUpKTtcblx0XHR0aGlzLnNldFN0cmVuZ3RoKGRhdGEuc3RyZW5ndGgpO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0cHVibGljIHRvSlNPTigpOiBJQ2hhcmFjdGVyU2VyaWFsaXplZCB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdC4uLnN1cGVyLnRvSlNPTigpLFxuXHRcdFx0ZGlyZWN0aW9uOiB0aGlzLmRpcmVjdGlvbixcblx0XHRcdGludmVudGFyeTogdGhpcy5pbnZlbnRhcnkudG9KU09OKCksXG5cdFx0XHRydW5TcGVlZDogdGhpcy5ydW5TcGVlZCxcblx0XHRcdHN0cmVuZ3RoOiB0aGlzLnN0cmVuZ3RoLFxuXHRcdFx0d2Fsa1NwZWVkOiB0aGlzLndhbGtTcGVlZCxcblx0XHR9O1xuXHR9XG5cbn1cblxuQ2hhcmFjdGVyLmZhY3RvcnkuYWRkKENoYXJhY3Rlcik7XG5cbi8qKlxuICogVGhlIHNlcmlhbGl6ZWQgY2hhcmFjdGVyIGRhdGFcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJQ2hhcmFjdGVyU2VyaWFsaXplZCBleHRlbmRzIElHYW1lT2JqZWN0U2VyaWFsaXplZCB7XG5cdGRpcmVjdGlvbjogbnVtYmVyO1xuXHRpbnZlbnRhcnk6IElJbnZlbnRvcnlTZXJpYWxpemVkO1xuXHRydW5TcGVlZDogbnVtYmVyO1xuXHRzdHJlbmd0aDogbnVtYmVyO1xuXHR3YWxrU3BlZWQ6IG51bWJlcjtcbn1cbiIsImltcG9ydCB7IElJdGVtU2VyaWFsaXplZCwgSXRlbSB9IGZyb20gJy4uL2l0ZW1zL0l0ZW0nO1xuXG5leHBvcnQgY2xhc3MgSW52ZW50b3J5IGV4dGVuZHMgTWFwPHN0cmluZywgSXRlbT4ge1xuXG5cdHB1YmxpYyBhY3RpdmU6IEl0ZW07XG5cblx0LyoqXG5cdCAqIFNldCB0aGUgYWN0aXZlIGl0ZW0gZnJvbSB0aGUgaW52ZW50b3J5XG5cdCAqIEBwYXJhbSBpdGVtIFRoZSBuZXcgYWN0aXZlIGl0ZW1cblx0ICovXG5cdHB1YmxpYyBzZXRBY3RpdmUoaXRlbTogSXRlbSkge1xuXHRcdHRoaXMuYWN0aXZlID0gaXRlbTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdHB1YmxpYyB0b0pTT04oKTogSUludmVudG9yeVNlcmlhbGl6ZWQge1xuXHRcdHJldHVybiB7XG5cdFx0XHRhY3RpdmU6IHRoaXMuYWN0aXZlLm5hbWUsXG5cdFx0XHRpdGVtczogWy4uLnRoaXMudmFsdWVzKCldXG5cdFx0fTtcblx0fVxuXG59XG5cbi8qKlxuICogVGhlIHNlcmlhbGl6ZWQgaW52ZW50b3J5IGRhdGFcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJSW52ZW50b3J5U2VyaWFsaXplZCB7XG5cdGFjdGl2ZTogc3RyaW5nO1xuXHRpdGVtczogSUl0ZW1TZXJpYWxpemVkW107XG59XG4iLCJpbXBvcnQgeyBGYWN0b3J5IH0gZnJvbSAnLi4vY29tbW9uL0ZhY3RvcnknO1xuaW1wb3J0IHsgSXRlbSB9IGZyb20gJy4vSXRlbSc7XG5cbmV4cG9ydCBjbGFzcyBJdGVtRmFjdG9yeSBleHRlbmRzIEZhY3Rvcnk8SXRlbSwgdHlwZW9mIEl0ZW0+eyB9XG4iLCJpbXBvcnQgeyBJSXRlbVNlcmlhbGl6ZWQsIEl0ZW0gfSBmcm9tICcuL0l0ZW0nO1xuXG5leHBvcnQgY2xhc3MgSXRlbVdlYXBvbiBleHRlbmRzIEl0ZW0ge1xuXHRwdWJsaWMgZGFtYWdlID0gMDtcblxuXHQvKipcblx0ICogU2V0IHRoZSBkYW1hZ2UgZm9yIHRoaXMgd2VhcG9uXG5cdCAqIEBwYXJhbSBkYW1hZ2UgVGhlIGRhbWFnZSB0aGlzIHdlYXBvbiBkZWFsc1xuXHQgKi9cblx0cHVibGljIHNldERhbWFnZShkYW1hZ2U6IG51bWJlcikge1xuXHRcdHRoaXMuZGFtYWdlID0gZGFtYWdlO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0cHVibGljIGxvYWQoZGF0YTogSUl0ZW1XZWFwb25TZXJpYWxpemVkKSB7XG5cdFx0cmV0dXJuIHN1cGVyLmxvYWQoZGF0YSkuc2V0RGFtYWdlKGRhdGEuZGFtYWdlKTtcblx0fVxuXG5cdHB1YmxpYyB0b0pTT04oKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdC4uLnN1cGVyLnRvSlNPTigpLFxuXHRcdFx0ZGFtYWdlOiB0aGlzLmRhbWFnZVxuXHRcdH07XG5cdH1cblxufVxuXG5JdGVtLmZhY3RvcnkuYWRkKEl0ZW1XZWFwb24pO1xuXG4vKipcbiAqIFRoZSBzZXJpYWxpemVkIGl0ZW0gd2VhcG9uIGRhdGFcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJSXRlbVdlYXBvblNlcmlhbGl6ZWQgZXh0ZW5kcyBJSXRlbVNlcmlhbGl6ZWQge1xuXHRkYW1hZ2U6IG51bWJlcjtcbn1cbiIsImltcG9ydCB7IEZhY3RvcnkgfSBmcm9tICcuLi9jb21tb24vRmFjdG9yeSc7XG5pbXBvcnQgeyBHYW1lT2JqZWN0IH0gZnJvbSAnLi9HYW1lT2JqZWN0JztcblxuZXhwb3J0IGNsYXNzIEdhbWVPYmplY3RGYWN0b3J5IGV4dGVuZHMgRmFjdG9yeTxHYW1lT2JqZWN0LCB0eXBlb2YgR2FtZU9iamVjdD57IH1cbiIsImV4cG9ydCBjbGFzcyBQcmVsb2FkZXJTdGF0ZSBleHRlbmRzIFBoYXNlci5TdGF0ZSB7XG5cblx0cHJpdmF0ZSBsb2FkaW5nQmFyOiBQaGFzZXIuU3ByaXRlO1xuXG5cdHB1YmxpYyBwcmVsb2FkKCkge1xuXHRcdHRoaXMubG9hZGluZ0JhciA9IHRoaXMuZ2FtZS5hZGQuc3ByaXRlKDAsIDI0MCwgJ3ByZWxvYWRlcl9iYXInKTtcblx0XHR0aGlzLmxvYWRpbmdCYXIuYW5jaG9yLnNldFRvKDAsIDAuNSk7XG5cdFx0dGhpcy5sb2FkLnNldFByZWxvYWRTcHJpdGUodGhpcy5sb2FkaW5nQmFyKTtcblxuXHRcdC8vIFRPRE86IGxvYWQgaGVyZSB0aGUgYXNzZXRzIGZvciB0aGUgZ2FtZVxuXHRcdHRoaXMuZ2FtZS5sb2FkLmltYWdlKCdsb2dvJywgJ2ltYWdlcy9TdG9uZXNDcmVlZC5wbmcnKTtcblx0fVxuXG5cdHB1YmxpYyBjcmVhdGUoKSB7XG5cdFx0dGhpcy5nYW1lLnN0YXRlLnN0YXJ0KCdtZW51Jyk7XG5cdH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=