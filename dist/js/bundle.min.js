!function(e){var t={};function s(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=t,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(a,r,function(t){return e[t]}.bind(null,r));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=5)}([function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WIN_WIDTH=800,t.WIN_HEIGHT=600},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.up=0]="up",e[e.down=1]="down",e[e.right=2]="right",e[e.left=3]="left"}(t.Direction||(t.Direction={})),function(e){e[e.stop=0]="stop",e[e.move=1]="move"}(t.BoulderState||(t.BoulderState={})),function(e){e[e.none=0]="none",e[e.bushes=1]="bushes",e[e.cave=2]="cave",e[e.haystack=3]="haystack"}(t.HidingType||(t.HidingType={})),t.CharacterState={dead:0,run:1,stand:2,walk:3},t.PlayerState=Object.assign({},t.CharacterState,{hidden:4}),t.EnemyState=Object.assign({},t.CharacterState,{onRoute:4,pursuit:5})},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(16);class r{constructor(e,t){this.game=e,this.name=t,this.type="item"}setName(e){return this.name=e,this}setType(e){return this.type=e,this}load(e){return this.setName(e.name).setType(e.type)}toJSON(){return{name:this.name,type:this.constructor.name}}}r.factory=new a.ItemFactory,t.Item=r,r.factory.add(r)},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Factory=class extends Map{add(e){return this.set(e.name,e),this}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(18);class r extends Phaser.Sprite{constructor(e,t,s,a,r){super(e.game,t,s,a,r),this.gameManager=e,this.game.add.existing(this),this.gameManager.gameObjects.push(this)}setPosition(e,t){return this.body.x=e,this.body.y=t,this}setVelocity(e,t){return this.body.velocity.x=e,this.body.velocity.y=t,this}interact(e){return e.interaction(this),this}interaction(e){if(!(e instanceof r))throw new TypeError("Expected gameObject to be a GameObject instance")}toJSON(){return{frame:this.frame,key:this.key,name:this.name,position:{x:this.position.x,y:this.position.y},type:this.constructor.name,velocity:{x:this.body.velocity.x,y:this.body.velocity.y}}}fromJSON(e){return this.frame=e.frame,this.key=e.key,this.name=e.name,this.setPosition(e.position.x,e.position.y).setVelocity(e.velocity.x,e.velocity.y)}}r.factory=new a.GameObjectFactory,t.GameObject=r,r.factory.add(r)},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(6),r=s(7),i=s(8),n=s(10),o=s(19),c=s(0);window.onload=function(){const e=new Phaser.Game(c.WIN_WIDTH,c.WIN_HEIGHT,Phaser.AUTO,"game");e.state.add("boot",a.BootState),e.state.add("preloader",o.PreloaderState),e.state.add("play",n.PlayState),e.state.add("menu",r.MenuState),e.state.add("newGame",i.NewGameState),e.state.start("boot")}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BootState=class extends Phaser.State{preload(){this.game.load.image("preloader_bar","images/preloader_bar.png")}create(){this.game.state.start("preloader")}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MenuState=class extends Phaser.State{constructor(){super(...arguments),this.texts=[],this.logo=null}create(){this.game.stage.backgroundColor="#2A1B19",this.logo=this.game.add.sprite(this.game.world.centerX,this.game.world.centerY-120,"logo"),this.logo.anchor.setTo(.5,.5),this.logo.scale.setTo(.5,.5),this.createButton("New Game",()=>{this.game.state.start("newGame")}),localStorage.getItem("level")&&this.createButton("Continue",()=>{this.game.state.states.play.gameManager.storageManager.load()})}shutdown(){for(const e of this.texts)e.destroy(!0);this.texts.length=0,this.logo.destroy(!0),super.shutdown()}createButton(e,t){const s=this.game.add.text(this.game.world.centerX,this.game.world.centerY,e,{font:"65px Arial",fill:"#CDCDCD",align:"center"});s.anchor.set(.5),s.inputEnabled=!0,s.events.onInputUp.add(t,this),s.events.onInputDown.add(()=>{s.fill="#FF0044",s.events.onInputOver.removeAll(),s.events.onInputOut.removeAll()}),s.events.onInputOver.add(()=>{s.fill="#FFFFFF"}),s.events.onInputOut.add(()=>{s.fill="#EFEFEF"}),this.texts.push(s),s.alignTo(this.texts.length?this.texts[this.texts.length-1]:this.logo,Phaser.BOTTOM_CENTER,16)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(9);t.NewGameState=class extends Phaser.State{create(){const e=this.game.add.text(this.game.world.centerX,this.game.world.centerY-100,"Insert your name",{font:"65px Arial",fill:"#CDCDCD",align:"center"});e.anchor.set(.5),a.readLine(this.game,{x:this.game.world.centerX,y:this.game.world.centerY},t=>{this.game.state.states.play.gameManager.playerName=t,e.destroy(!0),this.game.state.start("play")})}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(0);t.chunk=function(e,t){const s=e.slice(),a=[];for(;s.length;)a.push(s.splice(0,t));return a},t.readLine=function(e,t,s){const r=e.make.bitmapData(a.WIN_WIDTH,a.WIN_HEIGHT);r.context.font="64px Arial",r.context.fillStyle="#FFFFFF",r.context.textAlign="center",r.addToWorld();const i=[],n=e=>{if("Enter"===e.key)return document.removeEventListener("keydown",n),r.destroy(),s(i.join(""));if("Backspace"===e.key)i.length&&i.pop();else{if(!/^[a-zA-Z0-9]$/.test(e.key))return;i.push(e.key)}r.cls(),r.context.fillText(i.join(""),t.x,t.y)};document.addEventListener("keydown",n)}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(11);t.PlayState=class extends Phaser.State{constructor(){super(...arguments),this.gameManager=new a.GameManager(this.game)}create(){const e=this.game.add.sprite(this.game.world.centerX,this.game.world.centerY,"logo");e.anchor.setTo(.5,.5),e.scale.setTo(.5,.5),this.game.input.keyboard.addKeyCapture([Phaser.Keyboard.LEFT,Phaser.Keyboard.RIGHT,Phaser.Keyboard.UP,Phaser.Keyboard.DOWN,Phaser.Keyboard.SPACEBAR])}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(12);var r;t.GameManager=class{constructor(e){this.game=e,this.mapManager=null,this.storageManager=new a.StorageManager(this),this.gameObjects=[],this.player=null,this.playerName=null,this.level=r.First}clear(){for(const e of this.gameObjects)e.destroy(!0);return this.gameObjects.length=0,this}},function(e){e[e.First=0]="First"}(r=t.GameLevels||(t.GameLevels={}))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(13),r=s(4);t.StorageManager=class{constructor(e){this.gameManager=e}save(){localStorage.clear(),localStorage.setItem("gameObjects",JSON.stringify(this.gameManager.gameObjects)),localStorage.setItem("level",this.gameManager.level.toString())}load(){this.gameManager.clear();const e=localStorage.getItem("level");if(null===e)throw new Error("Could not find a saved file.");const t=Number(e);this.gameManager.level=t;const s=JSON.parse(localStorage.getItem("gameObjects"));if(s){for(const e of s){const t=r.GameObject.factory.get(e.type);throw t&&new t(this.gameManager,0,0).fromJSON(e),new Error(`Could not find a constructor for ${e.type||"unknown"}. Aborting.`)}this.gameManager.player=this.gameManager.gameObjects.find(e=>e instanceof a.Player)}}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(1),r=s(14);class i extends r.Character{constructor(e,t,s){super(e,t,s,"player"),this.hidingSpot=null,this.money=0,this.directions={down:!1,left:!1,right:!1,up:!1},this.game.camera.follow(this)}update(){this.directions.down=this.game.input.keyboard.isDown(Phaser.Keyboard.DOWN),this.directions.left=this.game.input.keyboard.isDown(Phaser.Keyboard.LEFT),this.directions.right=this.game.input.keyboard.isDown(Phaser.Keyboard.RIGHT),this.directions.up=this.game.input.keyboard.isDown(Phaser.Keyboard.UP);const e=this.game.input.keyboard.isDown(Phaser.Keyboard.SHIFT);this.directions.down!==this.directions.up?(this.direction=this.directions.down?a.Direction.down:a.Direction.up,e?this.run():this.walk()):this.directions.left!==this.directions.right?(this.direction=this.directions.left?a.Direction.left:a.Direction.right,e?this.run():this.walk()):this.stand()}hide(e){return e.hidingType!==a.HidingType.none&&(this.setState(a.PlayerState.hidden),this.hidingSpot=e),this}reveal(){return this.hidingSpot&&(this.setState(this.health?a.PlayerState.stand:a.PlayerState.dead),this.hidingSpot=null),this}fromJSON(e){return super.fromJSON(e),this.money=e.money,this}toJSON(){return Object.assign({},super.toJSON(),{hidingSpot:this.hidingSpot.toJSON(),money:this.money})}}t.Player=i,i.factory.add(i)},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(15),r=s(2),i=s(17),n=s(1),o=s(4);class c extends o.GameObject{constructor(e,t,s,r,i){super(e,t,s,r,i),this.walkSpeed=0,this.runSpeed=0,this.state=n.CharacterState.stand,this.direction=n.Direction.down,this.inventary=new a.Inventory,this.strength=0,this.game.physics.enable(this)}get damageStrength(){const e=this.inventary.active;return e instanceof i.ItemWeapon?e.damage:this.strength}setStrength(e){return this.strength=e,this}setState(e){return this.state=e,this}attack(e){e.damage(this.damageStrength)}kill(){return this.setState(n.CharacterState.dead),super.kill()}walk(){switch(this.setState(n.CharacterState.walk),this.direction){case n.Direction.down:this.setVelocity(0,this.walkSpeed);break;case n.Direction.up:this.setVelocity(0,-this.walkSpeed);break;case n.Direction.left:this.setVelocity(-this.walkSpeed,0);break;default:this.setVelocity(this.walkSpeed,0)}}run(){switch(this.setState(n.CharacterState.run),this.direction){case n.Direction.down:this.setVelocity(0,this.runSpeed);break;case n.Direction.up:this.setVelocity(0,-this.runSpeed);break;case n.Direction.left:this.setVelocity(-this.runSpeed,0);break;default:this.setVelocity(this.runSpeed,0)}}stand(){this.setState(n.CharacterState.stand),this.setVelocity(0,0)}changeDirection(e){this.direction=e}fromJSON(e){super.fromJSON(e),this.direction=e.direction,this.runSpeed=e.runSpeed,this.walkSpeed=e.walkSpeed,this.inventary.clear(),this.inventary.active=new r.Item(this.game,e.inventary.active);for(const t of e.inventary.items)this.inventary.set(t.name,new r.Item(this.game,t.name));return this.setStrength(e.strength),this}toJSON(){return Object.assign({},super.toJSON(),{direction:this.direction,inventary:this.inventary.toJSON(),runSpeed:this.runSpeed,strength:this.strength,walkSpeed:this.walkSpeed})}}t.Character=c,c.factory.add(c)},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Inventory=class extends Map{setActive(e){return this.active=e,this}toJSON(){return{active:this.active.name,items:[...this.values()]}}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(3);t.ItemFactory=class extends a.Factory{}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(2);class r extends a.Item{constructor(){super(...arguments),this.damage=0}setDamage(e){return this.damage=e,this}load(e){return super.load(e).setDamage(e.damage)}toJSON(){return Object.assign({},super.toJSON(),{damage:this.damage})}}t.ItemWeapon=r,a.Item.factory.add(r)},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(3);t.GameObjectFactory=class extends a.Factory{}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PreloaderState=class extends Phaser.State{preload(){this.loadingBar=this.game.add.sprite(0,240,"preloader_bar"),this.loadingBar.anchor.setTo(0,.5),this.load.setPreloadSprite(this.loadingBar),this.game.load.image("logo","images/StonesCreed.png")}create(){this.game.state.start("menu")}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi91dGlsL2NvbnN0YW50cy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL3N0cnVjdHVyZXMvbWlzYy90eXBlcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL3N0cnVjdHVyZXMvaXRlbXMvSXRlbS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL3N0cnVjdHVyZXMvY29tbW9uL0ZhY3RvcnkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9zdHJ1Y3R1cmVzL2dhbWVPYmplY3RzL0dhbWVPYmplY3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9tYWluLnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvc3RhdGVzL0Jvb3RTdGF0ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL3N0YXRlcy9NZW51U3RhdGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9zdGF0ZXMvTmV3R2FtZVN0YXRlLnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvdXRpbC91dGlsLnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvc3RhdGVzL1BsYXlTdGF0ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL3N0cnVjdHVyZXMvbWFuYWdlcnMvR2FtZU1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9zdHJ1Y3R1cmVzL21hbmFnZXJzL1N0b3JhZ2VNYW5hZ2VyLnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvc3RydWN0dXJlcy9nYW1lT2JqZWN0cy9jaGFyYWN0ZXJzL1BsYXllci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL3N0cnVjdHVyZXMvZ2FtZU9iamVjdHMvY2hhcmFjdGVycy9DaGFyYWN0ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9zdHJ1Y3R1cmVzL2NvbW1vbi9JbnZlbnRvcnkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9zdHJ1Y3R1cmVzL2l0ZW1zL0l0ZW1GYWN0b3J5LnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvc3RydWN0dXJlcy9pdGVtcy9JdGVtV2VhcG9uLnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvc3RydWN0dXJlcy9nYW1lT2JqZWN0cy9HYW1lT2JqZWN0RmFjdG9yeS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL3N0YXRlcy9QcmVsb2FkZXJTdGF0ZS50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIldJTl9XSURUSCIsIldJTl9IRUlHSFQiLCJEaXJlY3Rpb24iLCJCb3VsZGVyU3RhdGUiLCJIaWRpbmdUeXBlIiwiQ2hhcmFjdGVyU3RhdGUiLCJkZWFkIiwicnVuIiwic3RhbmQiLCJ3YWxrIiwiUGxheWVyU3RhdGUiLCJhc3NpZ24iLCJoaWRkZW4iLCJFbmVteVN0YXRlIiwib25Sb3V0ZSIsInB1cnN1aXQiLCJJdGVtRmFjdG9yeV8xIiwiSXRlbSIsIltvYmplY3QgT2JqZWN0XSIsImdhbWUiLCJ0aGlzIiwidHlwZSIsImRhdGEiLCJzZXROYW1lIiwic2V0VHlwZSIsImNvbnN0cnVjdG9yIiwiZmFjdG9yeSIsIkl0ZW1GYWN0b3J5IiwiYWRkIiwiRmFjdG9yeSIsIk1hcCIsImN0b3IiLCJzZXQiLCJHYW1lT2JqZWN0RmFjdG9yeV8xIiwiR2FtZU9iamVjdCIsIlBoYXNlciIsIlNwcml0ZSIsImdhbWVNYW5hZ2VyIiwieCIsInkiLCJmcmFtZSIsInN1cGVyIiwiZXhpc3RpbmciLCJnYW1lT2JqZWN0cyIsInB1c2giLCJib2R5IiwidmVsb2NpdHkiLCJnYW1lT2JqZWN0IiwiaW50ZXJhY3Rpb24iLCJUeXBlRXJyb3IiLCJwb3NpdGlvbiIsInNldFBvc2l0aW9uIiwic2V0VmVsb2NpdHkiLCJHYW1lT2JqZWN0RmFjdG9yeSIsIkJvb3RTdGF0ZV8xIiwiTWVudVN0YXRlXzEiLCJOZXdHYW1lU3RhdGVfMSIsIlBsYXlTdGF0ZV8xIiwiUHJlbG9hZGVyU3RhdGVfMSIsImNvbnN0YW50c18xIiwid2luZG93Iiwib25sb2FkIiwiR2FtZSIsIkFVVE8iLCJzdGF0ZSIsIkJvb3RTdGF0ZSIsIlByZWxvYWRlclN0YXRlIiwiUGxheVN0YXRlIiwiTWVudVN0YXRlIiwiTmV3R2FtZVN0YXRlIiwic3RhcnQiLCJTdGF0ZSIsImxvYWQiLCJpbWFnZSIsInRleHRzIiwibG9nbyIsInN0YWdlIiwiYmFja2dyb3VuZENvbG9yIiwic3ByaXRlIiwid29ybGQiLCJjZW50ZXJYIiwiY2VudGVyWSIsImFuY2hvciIsInNldFRvIiwic2NhbGUiLCJjcmVhdGVCdXR0b24iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic3RhdGVzIiwicGxheSIsInN0b3JhZ2VNYW5hZ2VyIiwidGV4dCIsImRlc3Ryb3kiLCJsZW5ndGgiLCJzaHV0ZG93biIsImNiIiwiZm9udCIsImZpbGwiLCJhbGlnbiIsImlucHV0RW5hYmxlZCIsImV2ZW50cyIsIm9uSW5wdXRVcCIsIm9uSW5wdXREb3duIiwib25JbnB1dE92ZXIiLCJyZW1vdmVBbGwiLCJvbklucHV0T3V0IiwiYWxpZ25UbyIsIkJPVFRPTV9DRU5URVIiLCJ1dGlsXzEiLCJyZWFkTGluZSIsInBsYXllck5hbWUiLCJjaHVuayIsImVudHJpZXMiLCJjaHVua1NpemUiLCJjbG9uZSIsInNsaWNlIiwiY2h1bmtzIiwic3BsaWNlIiwiY29vcmRpbmF0ZXMiLCJibWQiLCJtYWtlIiwiYml0bWFwRGF0YSIsImNvbnRleHQiLCJmaWxsU3R5bGUiLCJ0ZXh0QWxpZ24iLCJhZGRUb1dvcmxkIiwibGlzdGVuZXIiLCJldmVudCIsImRvY3VtZW50IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImpvaW4iLCJwb3AiLCJ0ZXN0IiwiY2xzIiwiZmlsbFRleHQiLCJhZGRFdmVudExpc3RlbmVyIiwiR2FtZU1hbmFnZXJfMSIsIkdhbWVNYW5hZ2VyIiwiaW5wdXQiLCJrZXlib2FyZCIsImFkZEtleUNhcHR1cmUiLCJLZXlib2FyZCIsIkxFRlQiLCJSSUdIVCIsIlVQIiwiRE9XTiIsIlNQQUNFQkFSIiwiU3RvcmFnZU1hbmFnZXJfMSIsIkdhbWVMZXZlbHMiLCJtYXBNYW5hZ2VyIiwiU3RvcmFnZU1hbmFnZXIiLCJwbGF5ZXIiLCJsZXZlbCIsIkZpcnN0IiwiUGxheWVyXzEiLCJHYW1lT2JqZWN0XzEiLCJjbGVhciIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwidG9TdHJpbmciLCJyYXdMZXZlbCIsIkVycm9yIiwiTnVtYmVyIiwicGFyc2UiLCJDdG9yIiwiZnJvbUpTT04iLCJmaW5kIiwiUGxheWVyIiwidHlwZXNfMSIsIkNoYXJhY3Rlcl8xIiwiQ2hhcmFjdGVyIiwiaGlkaW5nU3BvdCIsIm1vbmV5IiwiZGlyZWN0aW9ucyIsImRvd24iLCJsZWZ0IiwicmlnaHQiLCJ1cCIsImNhbWVyYSIsImZvbGxvdyIsImlzRG93biIsInJ1bm5pbmciLCJTSElGVCIsImRpcmVjdGlvbiIsImhpZGluZ1R5cGUiLCJub25lIiwic2V0U3RhdGUiLCJoZWFsdGgiLCJ0b0pTT04iLCJJbnZlbnRvcnlfMSIsIkl0ZW1fMSIsIkl0ZW1XZWFwb25fMSIsIndhbGtTcGVlZCIsInJ1blNwZWVkIiwiaW52ZW50YXJ5IiwiSW52ZW50b3J5Iiwic3RyZW5ndGgiLCJwaHlzaWNzIiwiZW5hYmxlIiwiZGFtYWdlU3RyZW5ndGgiLCJpdGVtIiwiYWN0aXZlIiwiSXRlbVdlYXBvbiIsImRhbWFnZSIsImNoYXJhY3RlciIsImtpbGwiLCJlbnRyeSIsIml0ZW1zIiwic2V0U3RyZW5ndGgiLCJ2YWx1ZXMiLCJGYWN0b3J5XzEiLCJzZXREYW1hZ2UiLCJsb2FkaW5nQmFyIiwic2V0UHJlbG9hZFNwcml0ZSJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLEdBQUEsQ0FDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxRQUFBLElBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEVBQUEsQ0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFDLFlBQUEsQ0FBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURtQixPQUFBLEtBUWpEckIsRUFBQXNCLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxHQURBLEVBQUFBLElBQUFGLEVBQUFyQixFQUFBcUIsSUFDQSxFQUFBRSxFQUFBLE9BQUFGLEVBQ0EsS0FBQUUsR0FBQSxpQkFBQUYsUUFBQUcsV0FBQSxPQUFBSCxFQUNBLElBQUFJLEVBQUFYLE9BQUFZLE9BQUEsTUFHQSxHQUZBMUIsRUFBQWtCLEVBQUFPLEdBQ0FYLE9BQUFDLGVBQUFVLEVBQUEsV0FBeUNULFlBQUEsRUFBQUssVUFDekMsRUFBQUUsR0FBQSxpQkFBQUYsRUFBQSxRQUFBTSxLQUFBTixFQUFBckIsRUFBQVUsRUFBQWUsRUFBQUUsRUFBQSxT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LEtBQUtELEtBQUs2QyxNQUFNTSxNQUFNIiwiZmlsZSI6ImJ1bmRsZS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNSk7XG4iLCJleHBvcnQgY29uc3QgV0lOX1dJRFRIID0gODAwO1xuZXhwb3J0IGNvbnN0IFdJTl9IRUlHSFQgPSA2MDA7XG4iLCIvKipcbiAqIFRoZSBkaXJlY3Rpb25zXG4gKi9cbmV4cG9ydCBlbnVtIERpcmVjdGlvbiB7XG5cdHVwLFxuXHRkb3duLFxuXHRyaWdodCxcblx0bGVmdFxufVxuXG4vKipcbiAqIFRoZSBib3VsZGVyIHN0YXRlc1xuICovXG5leHBvcnQgZW51bSBCb3VsZGVyU3RhdGUge1xuXHRzdG9wLFxuXHRtb3ZlXG59XG5cbi8qKlxuICogVGhlIGhpZGluZyB0eXBlc1xuICovXG5leHBvcnQgZW51bSBIaWRpbmdUeXBlIHtcblx0bm9uZSxcblx0YnVzaGVzLFxuXHRjYXZlLFxuXHRoYXlzdGFja1xufVxuXG5leHBvcnQgY29uc3QgQ2hhcmFjdGVyU3RhdGU6IElDaGFyYWN0ZXJTdGF0ZSA9IHtcblx0ZGVhZDogMCxcblx0cnVuOiAxLFxuXHRzdGFuZDogMixcblx0d2FsazogM1xufTtcblxuZXhwb3J0IGNvbnN0IFBsYXllclN0YXRlOiBJUGxheWVyU3RhdGUgPSB7XG5cdC4uLkNoYXJhY3RlclN0YXRlLFxuXHRoaWRkZW46IDRcbn07XG5cbmV4cG9ydCBjb25zdCBFbmVteVN0YXRlOiBJRW5lbXlTdGF0ZSA9IHtcblx0Li4uQ2hhcmFjdGVyU3RhdGUsXG5cdG9uUm91dGU6IDQsXG5cdHB1cnN1aXQ6IDVcbn07XG5cbi8qKlxuICogVGhlIGNoYXJhY3RlciBzdGF0ZXNcbiAqL1xuaW50ZXJmYWNlIElDaGFyYWN0ZXJTdGF0ZSB7XG5cdGRlYWQ6IDA7XG5cdHJ1bjogMTtcblx0c3RhbmQ6IDI7XG5cdHdhbGs6IDM7XG59XG5cbi8qKlxuICogVGhlIHBsYXllciBzdGF0ZXNcbiAqL1xuaW50ZXJmYWNlIElQbGF5ZXJTdGF0ZSBleHRlbmRzIElDaGFyYWN0ZXJTdGF0ZSB7XG5cdGhpZGRlbjogNDtcbn1cblxuLyoqXG4gKiBUaGUgZW5lbXkgc3RhdGVzXG4gKi9cbmludGVyZmFjZSBJRW5lbXlTdGF0ZSBleHRlbmRzIElDaGFyYWN0ZXJTdGF0ZSB7XG5cdG9uUm91dGU6IDQ7XG5cdHB1cnN1aXQ6IDU7XG59XG4iLCJpbXBvcnQgeyBJdGVtRmFjdG9yeSB9IGZyb20gJy4vSXRlbUZhY3RvcnknO1xuXG5leHBvcnQgY2xhc3MgSXRlbSB7XG5cblx0cHVibGljIHR5cGUgPSAnaXRlbSc7XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKHB1YmxpYyBnYW1lOiBQaGFzZXIuR2FtZSwgcHVibGljIG5hbWU6IHN0cmluZykgeyB9XG5cblx0cHVibGljIHNldE5hbWUobmFtZTogc3RyaW5nKSB7XG5cdFx0dGhpcy5uYW1lID0gbmFtZTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdHB1YmxpYyBzZXRUeXBlKHR5cGU6IHN0cmluZykge1xuXHRcdHRoaXMudHlwZSA9IHR5cGU7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHRwdWJsaWMgbG9hZChkYXRhOiBJSXRlbVNlcmlhbGl6ZWQpIHtcblx0XHRyZXR1cm4gdGhpc1xuXHRcdFx0LnNldE5hbWUoZGF0YS5uYW1lKVxuXHRcdFx0LnNldFR5cGUoZGF0YS50eXBlKTtcblx0fVxuXG5cdHB1YmxpYyB0b0pTT04oKTogSUl0ZW1TZXJpYWxpemVkIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0bmFtZTogdGhpcy5uYW1lLFxuXHRcdFx0dHlwZTogdGhpcy5jb25zdHJ1Y3Rvci5uYW1lXG5cdFx0fTtcblx0fVxuXG5cdHB1YmxpYyBzdGF0aWMgZmFjdG9yeSA9IG5ldyBJdGVtRmFjdG9yeSgpO1xuXG59XG5cbkl0ZW0uZmFjdG9yeS5hZGQoSXRlbSk7XG5cbi8qKlxuICogVGhlIHNlcmlhbGl6ZWQgaXRlbSBkYXRhXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSUl0ZW1TZXJpYWxpemVkIHtcblx0bmFtZTogc3RyaW5nO1xuXHR0eXBlOiBzdHJpbmc7XG59XG4iLCJleHBvcnQgY2xhc3MgRmFjdG9yeTxWLCBDIGV4dGVuZHMgbmV3ICguLi5hcmdzOiBhbnlbXSkgPT4gVj4gZXh0ZW5kcyBNYXA8c3RyaW5nLCBDPiB7XG5cblx0cHVibGljIGFkZChjdG9yOiBDKSB7XG5cdFx0dGhpcy5zZXQoY3Rvci5uYW1lLCBjdG9yKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG59XG4iLCJpbXBvcnQgeyBHYW1lTWFuYWdlciB9IGZyb20gJy4uL21hbmFnZXJzL0dhbWVNYW5hZ2VyJztcbmltcG9ydCB7IEdhbWVPYmplY3RGYWN0b3J5IH0gZnJvbSAnLi9HYW1lT2JqZWN0RmFjdG9yeSc7XG5cbmV4cG9ydCBjbGFzcyBHYW1lT2JqZWN0IGV4dGVuZHMgUGhhc2VyLlNwcml0ZSB7XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKHB1YmxpYyBnYW1lTWFuYWdlcjogR2FtZU1hbmFnZXIsIHg6IG51bWJlciwgeTogbnVtYmVyLCBrZXk/OiBzdHJpbmcsIGZyYW1lPzogc3RyaW5nKSB7XG5cdFx0c3VwZXIoZ2FtZU1hbmFnZXIuZ2FtZSwgeCwgeSwga2V5LCBmcmFtZSk7XG5cdFx0Ly8gQWRkIHRoZSBnYW1lb2JqZWN0IGl0c2VsZiB0byB0aGUgZ2FtZVxuXHRcdHRoaXMuZ2FtZS5hZGQuZXhpc3RpbmcodGhpcyk7XG5cdFx0dGhpcy5nYW1lTWFuYWdlci5nYW1lT2JqZWN0cy5wdXNoKHRoaXMpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFNldCB0aGUgcG9zaXRpb24gZm9yIHRoaXMgZ2FtZSBvYmplY3Rcblx0ICogQHBhcmFtIHggVGhlIG5ldyB4IHBvc2l0aW9uXG5cdCAqIEBwYXJhbSB5IFRoZSBuZXcgeSBwb3NpdGlvblxuXHQgKi9cblx0cHVibGljIHNldFBvc2l0aW9uKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG5cdFx0dGhpcy5ib2R5LnggPSB4O1xuXHRcdHRoaXMuYm9keS55ID0geTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdC8qKlxuXHQgKiBTZXQgdGhlIHZlbG9jaXR5IGZvciB0aGlzIGdhbWUgb2JqZWN0XG5cdCAqIEBwYXJhbSB4IFRoZSBuZXcgeCB2ZWxvY2l0eVxuXHQgKiBAcGFyYW0geSBUaGUgbmV3IHkgdmVsb2NpdHlcblx0ICovXG5cdHB1YmxpYyBzZXRWZWxvY2l0eSh4OiBudW1iZXIsIHk6IG51bWJlcikge1xuXHRcdHRoaXMuYm9keS52ZWxvY2l0eS54ID0geDtcblx0XHR0aGlzLmJvZHkudmVsb2NpdHkueSA9IHk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHQvKipcblx0ICogSW50ZXJhY3RzIHdpdGggYSBnYW1lIG9iamVjdCBmcm9tIHRoZSBnYW1lXG5cdCAqIEBwYXJhbSBnYW1lT2JqZWN0IFRoZSBnYW1lIG9iamVjdCB0byBpbnRlcmFjdCB3aXRoXG5cdCAqL1xuXHRwdWJsaWMgaW50ZXJhY3QoZ2FtZU9iamVjdDogR2FtZU9iamVjdCkge1xuXHRcdGdhbWVPYmplY3QuaW50ZXJhY3Rpb24odGhpcyk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHQvKipcblx0ICogSGFuZGxlIHRoZSBpbnRlcmFjdGlvbnMgdG8gdGhpcyBnYW1lIG9iamVjdFxuXHQgKiBAcGFyYW0gZ2FtZU9iamVjdCBUaGUgZ2FtZSBvYmplY3QgdGhhdCBpbnRlcmFjdGVkIHdpdGggdGhpcyBpbnN0YW5jZVxuXHQgKi9cblx0cHVibGljIGludGVyYWN0aW9uKGdhbWVPYmplY3Q6IEdhbWVPYmplY3QpIHtcblx0XHRpZiAoIShnYW1lT2JqZWN0IGluc3RhbmNlb2YgR2FtZU9iamVjdCkpXG5cdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKGBFeHBlY3RlZCBnYW1lT2JqZWN0IHRvIGJlIGEgR2FtZU9iamVjdCBpbnN0YW5jZWApO1xuXHR9XG5cblx0cHVibGljIHRvSlNPTigpOiBJR2FtZU9iamVjdFNlcmlhbGl6ZWQge1xuXHRcdHJldHVybiB7XG5cdFx0XHRmcmFtZTogdGhpcy5mcmFtZSBhcyBzdHJpbmcsXG5cdFx0XHRrZXk6IHRoaXMua2V5IGFzIHN0cmluZyxcblx0XHRcdG5hbWU6IHRoaXMubmFtZSxcblx0XHRcdHBvc2l0aW9uOiB7XG5cdFx0XHRcdHg6IHRoaXMucG9zaXRpb24ueCxcblx0XHRcdFx0eTogdGhpcy5wb3NpdGlvbi55XG5cdFx0XHR9LFxuXHRcdFx0dHlwZTogdGhpcy5jb25zdHJ1Y3Rvci5uYW1lLFxuXHRcdFx0dmVsb2NpdHk6IHtcblx0XHRcdFx0eDogdGhpcy5ib2R5LnZlbG9jaXR5LngsXG5cdFx0XHRcdHk6IHRoaXMuYm9keS52ZWxvY2l0eS55XG5cdFx0XHR9XG5cdFx0fTtcblx0fVxuXG5cdHB1YmxpYyBmcm9tSlNPTihkYXRhOiBJR2FtZU9iamVjdFNlcmlhbGl6ZWQpIHtcblx0XHR0aGlzLmZyYW1lID0gZGF0YS5mcmFtZTtcblx0XHR0aGlzLmtleSA9IGRhdGEua2V5O1xuXHRcdHRoaXMubmFtZSA9IGRhdGEubmFtZTtcblx0XHRyZXR1cm4gdGhpc1xuXHRcdFx0LnNldFBvc2l0aW9uKGRhdGEucG9zaXRpb24ueCwgZGF0YS5wb3NpdGlvbi55KVxuXHRcdFx0LnNldFZlbG9jaXR5KGRhdGEudmVsb2NpdHkueCwgZGF0YS52ZWxvY2l0eS55KTtcblx0fVxuXG5cdHB1YmxpYyBzdGF0aWMgZmFjdG9yeSA9IG5ldyBHYW1lT2JqZWN0RmFjdG9yeSgpO1xuXG59XG5cbkdhbWVPYmplY3QuZmFjdG9yeS5hZGQoR2FtZU9iamVjdCk7XG5cbi8qKlxuICogVGhlIHNlcmlhbGl6ZWQgZ2FtZSBvYmplY3QgZGF0YVxuICovXG5leHBvcnQgaW50ZXJmYWNlIElHYW1lT2JqZWN0U2VyaWFsaXplZCB7XG5cdGZyYW1lOiBzdHJpbmc7XG5cdGtleTogc3RyaW5nO1xuXHRuYW1lOiBzdHJpbmc7XG5cdHBvc2l0aW9uOiB7XG5cdFx0eDogbnVtYmVyO1xuXHRcdHk6IG51bWJlcjtcblx0fTtcblx0dHlwZTogc3RyaW5nO1xuXHR2ZWxvY2l0eToge1xuXHRcdHg6IG51bWJlcjtcblx0XHR5OiBudW1iZXI7XG5cdH07XG59XG4iLCJpbXBvcnQgeyBCb290U3RhdGUgfSBmcm9tICcuL3N0YXRlcy9Cb290U3RhdGUnO1xuaW1wb3J0IHsgTWVudVN0YXRlIH0gZnJvbSAnLi9zdGF0ZXMvTWVudVN0YXRlJztcbmltcG9ydCB7IE5ld0dhbWVTdGF0ZSB9IGZyb20gJy4vc3RhdGVzL05ld0dhbWVTdGF0ZSc7XG5pbXBvcnQgeyBQbGF5U3RhdGUgfSBmcm9tICcuL3N0YXRlcy9QbGF5U3RhdGUnO1xuaW1wb3J0IHsgUHJlbG9hZGVyU3RhdGUgfSBmcm9tICcuL3N0YXRlcy9QcmVsb2FkZXJTdGF0ZSc7XG5pbXBvcnQgeyBXSU5fSEVJR0hULCBXSU5fV0lEVEggfSBmcm9tICcuL3V0aWwvY29uc3RhbnRzJztcblxud2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uIG9ubG9hZCgpIHtcblx0Y29uc3QgZ2FtZSA9IG5ldyBQaGFzZXIuR2FtZShXSU5fV0lEVEgsIFdJTl9IRUlHSFQsIFBoYXNlci5BVVRPLCAnZ2FtZScpO1xuXG5cdGdhbWUuc3RhdGUuYWRkKCdib290JywgQm9vdFN0YXRlKTtcblx0Z2FtZS5zdGF0ZS5hZGQoJ3ByZWxvYWRlcicsIFByZWxvYWRlclN0YXRlKTtcblx0Z2FtZS5zdGF0ZS5hZGQoJ3BsYXknLCBQbGF5U3RhdGUpO1xuXHRnYW1lLnN0YXRlLmFkZCgnbWVudScsIE1lbnVTdGF0ZSk7XG5cdGdhbWUuc3RhdGUuYWRkKCduZXdHYW1lJywgTmV3R2FtZVN0YXRlKTtcblxuXHRnYW1lLnN0YXRlLnN0YXJ0KCdib290Jyk7XG59O1xuIiwiXG5leHBvcnQgY2xhc3MgQm9vdFN0YXRlIGV4dGVuZHMgUGhhc2VyLlN0YXRlIHtcblx0cHVibGljIHByZWxvYWQoKSB7XG5cdFx0Ly8gbG9hZCBoZXJlIGFzc2V0cyByZXF1aXJlZCBmb3IgdGhlIGxvYWRpbmcgc2NyZWVuXG5cdFx0dGhpcy5nYW1lLmxvYWQuaW1hZ2UoJ3ByZWxvYWRlcl9iYXInLCAnaW1hZ2VzL3ByZWxvYWRlcl9iYXIucG5nJyk7XG5cdH1cblxuXHRwdWJsaWMgY3JlYXRlKCkge1xuXHRcdHRoaXMuZ2FtZS5zdGF0ZS5zdGFydCgncHJlbG9hZGVyJyk7XG5cdH1cbn1cbiIsImltcG9ydCB7IFBsYXlTdGF0ZSB9IGZyb20gJy4vUGxheVN0YXRlJztcblxuZXhwb3J0IGNsYXNzIE1lbnVTdGF0ZSBleHRlbmRzIFBoYXNlci5TdGF0ZSB7XG5cblx0cHVibGljIHRleHRzOiBQaGFzZXIuVGV4dFtdID0gW107XG5cdHB1YmxpYyBsb2dvOiBQaGFzZXIuU3ByaXRlID0gbnVsbDtcblxuXHRwdWJsaWMgY3JlYXRlKCkge1xuXHRcdHRoaXMuZ2FtZS5zdGFnZS5iYWNrZ3JvdW5kQ29sb3IgPSAnIzJBMUIxOSc7XG5cdFx0dGhpcy5sb2dvID0gdGhpcy5nYW1lLmFkZC5zcHJpdGUodGhpcy5nYW1lLndvcmxkLmNlbnRlclgsIHRoaXMuZ2FtZS53b3JsZC5jZW50ZXJZIC0gMTIwLCAnbG9nbycpO1xuXHRcdHRoaXMubG9nby5hbmNob3Iuc2V0VG8oMC41LCAwLjUpO1xuXHRcdHRoaXMubG9nby5zY2FsZS5zZXRUbygwLjUsIDAuNSk7XG5cblx0XHR0aGlzLmNyZWF0ZUJ1dHRvbignTmV3IEdhbWUnLCAoKSA9PiB7XG5cdFx0XHR0aGlzLmdhbWUuc3RhdGUuc3RhcnQoJ25ld0dhbWUnKTtcblx0XHR9KTtcblx0XHRpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xldmVsJykpIHRoaXMuY3JlYXRlQnV0dG9uKCdDb250aW51ZScsICgpID0+IHtcblx0XHRcdCh0aGlzLmdhbWUuc3RhdGUuc3RhdGVzLnBsYXkgYXMgUGxheVN0YXRlKS5nYW1lTWFuYWdlci5zdG9yYWdlTWFuYWdlci5sb2FkKCk7XG5cdFx0fSk7XG5cdH1cblxuXHRwdWJsaWMgc2h1dGRvd24oKSB7XG5cdFx0Zm9yIChjb25zdCB0ZXh0IG9mIHRoaXMudGV4dHMpIHRleHQuZGVzdHJveSh0cnVlKTtcblx0XHR0aGlzLnRleHRzLmxlbmd0aCA9IDA7XG5cdFx0dGhpcy5sb2dvLmRlc3Ryb3kodHJ1ZSk7XG5cdFx0c3VwZXIuc2h1dGRvd24oKTtcblx0fVxuXG5cdHByaXZhdGUgY3JlYXRlQnV0dG9uKG5hbWU6IHN0cmluZywgY2I6IEZ1bmN0aW9uKSB7XG5cdFx0Y29uc3QgdGV4dCA9IHRoaXMuZ2FtZS5hZGQudGV4dCh0aGlzLmdhbWUud29ybGQuY2VudGVyWCwgdGhpcy5nYW1lLndvcmxkLmNlbnRlclksIG5hbWUsIHsgZm9udDogJzY1cHggQXJpYWwnLCBmaWxsOiAnI0NEQ0RDRCcsIGFsaWduOiAnY2VudGVyJyB9KTtcblx0XHR0ZXh0LmFuY2hvci5zZXQoMC41KTtcblx0XHR0ZXh0LmlucHV0RW5hYmxlZCA9IHRydWU7XG5cdFx0dGV4dC5ldmVudHMub25JbnB1dFVwLmFkZChjYiwgdGhpcyk7XG5cdFx0dGV4dC5ldmVudHMub25JbnB1dERvd24uYWRkKCgpID0+IHtcblx0XHRcdHRleHQuZmlsbCA9ICcjRkYwMDQ0Jztcblx0XHRcdHRleHQuZXZlbnRzLm9uSW5wdXRPdmVyLnJlbW92ZUFsbCgpO1xuXHRcdFx0dGV4dC5ldmVudHMub25JbnB1dE91dC5yZW1vdmVBbGwoKTtcblx0XHR9KTtcblx0XHR0ZXh0LmV2ZW50cy5vbklucHV0T3Zlci5hZGQoKCkgPT4geyB0ZXh0LmZpbGwgPSAnI0ZGRkZGRic7IH0pO1xuXHRcdHRleHQuZXZlbnRzLm9uSW5wdXRPdXQuYWRkKCgpID0+IHsgdGV4dC5maWxsID0gJyNFRkVGRUYnOyB9KTtcblx0XHR0aGlzLnRleHRzLnB1c2godGV4dCk7XG5cdFx0dGV4dC5hbGlnblRvKHRoaXMudGV4dHMubGVuZ3RoID8gdGhpcy50ZXh0c1t0aGlzLnRleHRzLmxlbmd0aCAtIDFdIDogdGhpcy5sb2dvLCBQaGFzZXIuQk9UVE9NX0NFTlRFUiwgMTYpO1xuXHR9XG5cbn1cbiIsImltcG9ydCB7IHJlYWRMaW5lIH0gZnJvbSAnLi4vdXRpbC91dGlsJztcbmltcG9ydCB7IFBsYXlTdGF0ZSB9IGZyb20gJy4vUGxheVN0YXRlJztcblxuZXhwb3J0IGNsYXNzIE5ld0dhbWVTdGF0ZSBleHRlbmRzIFBoYXNlci5TdGF0ZSB7XG5cblx0cHVibGljIGNyZWF0ZSgpIHtcblx0XHRjb25zdCB0ZXh0ID0gdGhpcy5nYW1lLmFkZC50ZXh0KHRoaXMuZ2FtZS53b3JsZC5jZW50ZXJYLCB0aGlzLmdhbWUud29ybGQuY2VudGVyWSAtIDEwMCwgJ0luc2VydCB5b3VyIG5hbWUnLFxuXHRcdFx0eyBmb250OiAnNjVweCBBcmlhbCcsIGZpbGw6ICcjQ0RDRENEJywgYWxpZ246ICdjZW50ZXInIH0pO1xuXHRcdHRleHQuYW5jaG9yLnNldCgwLjUpO1xuXHRcdHJlYWRMaW5lKHRoaXMuZ2FtZSwgeyB4OiB0aGlzLmdhbWUud29ybGQuY2VudGVyWCwgeTogdGhpcy5nYW1lLndvcmxkLmNlbnRlclkgfSwgKG5hbWUpID0+IHtcblx0XHRcdCh0aGlzLmdhbWUuc3RhdGUuc3RhdGVzLnBsYXkgYXMgUGxheVN0YXRlKS5nYW1lTWFuYWdlci5wbGF5ZXJOYW1lID0gbmFtZTtcblx0XHRcdHRleHQuZGVzdHJveSh0cnVlKTtcblx0XHRcdHRoaXMuZ2FtZS5zdGF0ZS5zdGFydCgncGxheScpO1xuXHRcdH0pO1xuXHR9XG5cbn1cbiIsImltcG9ydCB7IFdJTl9IRUlHSFQsIFdJTl9XSURUSCB9IGZyb20gJy4vY29uc3RhbnRzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNodW5rPFQ+KGVudHJpZXM6IFRbXSwgY2h1bmtTaXplOiBudW1iZXIpOiBUW11bXSB7XG5cdGNvbnN0IGNsb25lID0gZW50cmllcy5zbGljZSgpO1xuXHRjb25zdCBjaHVua3MgPSBbXTtcblx0d2hpbGUgKGNsb25lLmxlbmd0aCkgY2h1bmtzLnB1c2goY2xvbmUuc3BsaWNlKDAsIGNodW5rU2l6ZSkpO1xuXHRyZXR1cm4gY2h1bmtzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVhZExpbmUoZ2FtZTogUGhhc2VyLkdhbWUsIGNvb3JkaW5hdGVzOiBDb29yZGluYXRlcywgY2I6ICh0ZXh0OiBzdHJpbmcpID0+IHZvaWQpIHtcblx0Y29uc3QgYm1kID0gZ2FtZS5tYWtlLmJpdG1hcERhdGEoV0lOX1dJRFRILCBXSU5fSEVJR0hUKTtcblx0Ym1kLmNvbnRleHQuZm9udCA9ICc2NHB4IEFyaWFsJztcblx0Ym1kLmNvbnRleHQuZmlsbFN0eWxlID0gJyNGRkZGRkYnO1xuXHRibWQuY29udGV4dC50ZXh0QWxpZ24gPSAnY2VudGVyJztcblx0Ym1kLmFkZFRvV29ybGQoKTtcblxuXHRjb25zdCB0ZXh0ID0gW107XG5cblx0Y29uc3QgbGlzdGVuZXIgPSAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IHtcblx0XHRpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInKSB7XG5cdFx0XHRkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgbGlzdGVuZXIpO1xuXHRcdFx0Ym1kLmRlc3Ryb3koKTtcblx0XHRcdHJldHVybiBjYih0ZXh0LmpvaW4oJycpKTtcblx0XHR9XG5cblx0XHRpZiAoZXZlbnQua2V5ID09PSAnQmFja3NwYWNlJykge1xuXHRcdFx0aWYgKHRleHQubGVuZ3RoKSB0ZXh0LnBvcCgpO1xuXHRcdH0gZWxzZSBpZiAoL15bYS16QS1aMC05XSQvLnRlc3QoZXZlbnQua2V5KSkge1xuXHRcdFx0dGV4dC5wdXNoKGV2ZW50LmtleSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBDbGVhciB0aGUgYml0bWFwIGRhdGFcblx0XHRibWQuY2xzKCk7XG5cdFx0Ym1kLmNvbnRleHQuZmlsbFRleHQodGV4dC5qb2luKCcnKSwgY29vcmRpbmF0ZXMueCwgY29vcmRpbmF0ZXMueSk7XG5cdH07XG5cdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBsaXN0ZW5lcik7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29vcmRpbmF0ZXMge1xuXHR4OiBudW1iZXI7XG5cdHk6IG51bWJlcjtcbn1cbiIsImltcG9ydCB7IEdhbWVNYW5hZ2VyIH0gZnJvbSAnLi4vc3RydWN0dXJlcy9tYW5hZ2Vycy9HYW1lTWFuYWdlcic7XG5cbmV4cG9ydCBjbGFzcyBQbGF5U3RhdGUgZXh0ZW5kcyBQaGFzZXIuU3RhdGUge1xuXHRwdWJsaWMgZ2FtZU1hbmFnZXIgPSBuZXcgR2FtZU1hbmFnZXIodGhpcy5nYW1lKTtcblxuXHRwdWJsaWMgY3JlYXRlKCkge1xuXHRcdGNvbnN0IGxvZ28gPSB0aGlzLmdhbWUuYWRkLnNwcml0ZShcblx0XHRcdHRoaXMuZ2FtZS53b3JsZC5jZW50ZXJYLCB0aGlzLmdhbWUud29ybGQuY2VudGVyWSwgJ2xvZ28nKTtcblx0XHRsb2dvLmFuY2hvci5zZXRUbygwLjUsIDAuNSk7XG5cdFx0bG9nby5zY2FsZS5zZXRUbygwLjUsIDAuNSk7XG5cblx0XHQvLyBQcmV2ZW50IGRpcmVjdGlvbnMgYW5kIHNwYWNlIGtleSBldmVudHMgYnViYmxpbmcgdXAgdG8gYnJvd3Nlcixcblx0XHQvLyBzaW5jZSB0aGVzZSBrZXlzIHdpbGwgbWFrZSB3ZWIgcGFnZSBzY3JvbGwgd2hpY2ggaXMgbm90XG5cdFx0Ly8gZXhwZWN0ZWQuXG5cdFx0dGhpcy5nYW1lLmlucHV0LmtleWJvYXJkLmFkZEtleUNhcHR1cmUoW1xuXHRcdFx0UGhhc2VyLktleWJvYXJkLkxFRlQsXG5cdFx0XHRQaGFzZXIuS2V5Ym9hcmQuUklHSFQsXG5cdFx0XHRQaGFzZXIuS2V5Ym9hcmQuVVAsXG5cdFx0XHRQaGFzZXIuS2V5Ym9hcmQuRE9XTixcblx0XHRcdFBoYXNlci5LZXlib2FyZC5TUEFDRUJBUlxuXHRcdF0pO1xuXHR9XG5cbn1cbiIsImltcG9ydCB7IFBsYXllciB9IGZyb20gJy4uL2dhbWVPYmplY3RzL2NoYXJhY3RlcnMvUGxheWVyJztcbmltcG9ydCB7IEdhbWVPYmplY3QgfSBmcm9tICcuLi9nYW1lT2JqZWN0cy9HYW1lT2JqZWN0JztcbmltcG9ydCB7IE1hcE1hbmFnZXIgfSBmcm9tICcuL01hcE1hbmFnZXInO1xuaW1wb3J0IHsgU3RvcmFnZU1hbmFnZXIgfSBmcm9tICcuL1N0b3JhZ2VNYW5hZ2VyJztcblxuZXhwb3J0IGNsYXNzIEdhbWVNYW5hZ2VyIHtcblx0cHVibGljIG1hcE1hbmFnZXI6IE1hcE1hbmFnZXIgPSBudWxsO1xuXHRwdWJsaWMgc3RvcmFnZU1hbmFnZXIgPSBuZXcgU3RvcmFnZU1hbmFnZXIodGhpcyk7XG5cdHB1YmxpYyBnYW1lT2JqZWN0czogR2FtZU9iamVjdFtdID0gW107XG5cdHB1YmxpYyBwbGF5ZXI6IFBsYXllciA9IG51bGw7XG5cdHB1YmxpYyBwbGF5ZXJOYW1lOiBzdHJpbmcgPSBudWxsO1xuXHRwdWJsaWMgbGV2ZWwgPSBHYW1lTGV2ZWxzLkZpcnN0O1xuXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihwdWJsaWMgZ2FtZTogUGhhc2VyLkdhbWUpIHsgfVxuXG5cdHB1YmxpYyBjbGVhcigpIHtcblx0XHRmb3IgKGNvbnN0IGdhbWVPYmplY3Qgb2YgdGhpcy5nYW1lT2JqZWN0cykgZ2FtZU9iamVjdC5kZXN0cm95KHRydWUpO1xuXHRcdHRoaXMuZ2FtZU9iamVjdHMubGVuZ3RoID0gMDtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG59XG5cbi8qKlxuICogVGhlIGdhbWUncyBsZXZlbHNcbiAqL1xuZXhwb3J0IGVudW0gR2FtZUxldmVscyB7XG5cdEZpcnN0XG59XG4iLCJpbXBvcnQgeyBQbGF5ZXIgfSBmcm9tICcuLi9nYW1lT2JqZWN0cy9jaGFyYWN0ZXJzL1BsYXllcic7XG5pbXBvcnQgeyBHYW1lT2JqZWN0LCBJR2FtZU9iamVjdFNlcmlhbGl6ZWQgfSBmcm9tICcuLi9nYW1lT2JqZWN0cy9HYW1lT2JqZWN0JztcbmltcG9ydCB7IEdhbWVNYW5hZ2VyIH0gZnJvbSAnLi9HYW1lTWFuYWdlcic7XG5cbmV4cG9ydCBjbGFzcyBTdG9yYWdlTWFuYWdlciB7XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgZ2FtZU1hbmFnZXI6IEdhbWVNYW5hZ2VyKSB7IH1cblxuXHRwdWJsaWMgc2F2ZSgpIHtcblx0XHRsb2NhbFN0b3JhZ2UuY2xlYXIoKTtcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZ2FtZU9iamVjdHMnLCBKU09OLnN0cmluZ2lmeSh0aGlzLmdhbWVNYW5hZ2VyLmdhbWVPYmplY3RzKSk7XG5cdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2xldmVsJywgdGhpcy5nYW1lTWFuYWdlci5sZXZlbC50b1N0cmluZygpKTtcblx0fVxuXG5cdHB1YmxpYyBsb2FkKCkge1xuXHRcdC8vIENsZWFyIHRoZSBnYW1lIG1hbmFnZXJcblx0XHR0aGlzLmdhbWVNYW5hZ2VyLmNsZWFyKCk7XG5cblx0XHQvLyBMb2FkIHRoZSBkYXRhXG5cdFx0Y29uc3QgcmF3TGV2ZWwgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbGV2ZWwnKTtcblx0XHRpZiAocmF3TGV2ZWwgPT09IG51bGwpIHRocm93IG5ldyBFcnJvcihgQ291bGQgbm90IGZpbmQgYSBzYXZlZCBmaWxlLmApO1xuXHRcdGNvbnN0IGxldmVsID0gTnVtYmVyKHJhd0xldmVsKTtcblxuXHRcdHRoaXMuZ2FtZU1hbmFnZXIubGV2ZWwgPSBsZXZlbDtcblxuXHRcdGNvbnN0IGdhbWVPYmplY3RzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZ2FtZU9iamVjdHMnKSkgYXMgSUdhbWVPYmplY3RTZXJpYWxpemVkW107XG5cdFx0aWYgKGdhbWVPYmplY3RzKSB7XG5cdFx0XHRmb3IgKGNvbnN0IGdhbWVPYmplY3Qgb2YgZ2FtZU9iamVjdHMpIHtcblx0XHRcdFx0Y29uc3QgQ3RvciA9IEdhbWVPYmplY3QuZmFjdG9yeS5nZXQoZ2FtZU9iamVjdC50eXBlKTtcblx0XHRcdFx0aWYgKEN0b3IpIG5ldyBDdG9yKHRoaXMuZ2FtZU1hbmFnZXIsIDAsIDApLmZyb21KU09OKGdhbWVPYmplY3QpO1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYENvdWxkIG5vdCBmaW5kIGEgY29uc3RydWN0b3IgZm9yICR7Z2FtZU9iamVjdC50eXBlIHx8ICd1bmtub3duJ30uIEFib3J0aW5nLmApO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLmdhbWVNYW5hZ2VyLnBsYXllciA9IHRoaXMuZ2FtZU1hbmFnZXIuZ2FtZU9iamVjdHMuZmluZCgoZ2FtZU9iamVjdCkgPT4gZ2FtZU9iamVjdCBpbnN0YW5jZW9mIFBsYXllcikgYXMgUGxheWVyO1xuXHRcdH1cblx0fVxuXG59XG4iLCJpbXBvcnQgeyBHYW1lTWFuYWdlciB9IGZyb20gJy4uLy4uL21hbmFnZXJzL0dhbWVNYW5hZ2VyJztcbmltcG9ydCB7IERpcmVjdGlvbiwgSGlkaW5nVHlwZSwgUGxheWVyU3RhdGUgfSBmcm9tICcuLi8uLi9taXNjL3R5cGVzJztcbmltcG9ydCB7IEhpZGluZ1Nwb3QsIElIaWRpbmdTcG90U2VyaWFsaXplZCB9IGZyb20gJy4uL2hpZGluZ1Nwb3RzL0hpZGluZ1Nwb3QnO1xuaW1wb3J0IHsgQ2hhcmFjdGVyLCBJQ2hhcmFjdGVyU2VyaWFsaXplZCB9IGZyb20gJy4vQ2hhcmFjdGVyJztcblxuZXhwb3J0IGNsYXNzIFBsYXllciBleHRlbmRzIENoYXJhY3RlciB7XG5cblx0cHVibGljIGhpZGluZ1Nwb3Q6IEhpZGluZ1Nwb3QgPSBudWxsO1xuXHRwdWJsaWMgbW9uZXkgPSAwO1xuXHRwcml2YXRlIGRpcmVjdGlvbnMgPSB7XG5cdFx0ZG93bjogZmFsc2UsXG5cdFx0bGVmdDogZmFsc2UsXG5cdFx0cmlnaHQ6IGZhbHNlLFxuXHRcdHVwOiBmYWxzZVxuXHR9O1xuXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihnYW1lTWFuYWdlcjogR2FtZU1hbmFnZXIsIHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG5cdFx0c3VwZXIoZ2FtZU1hbmFnZXIsIHgsIHksICdwbGF5ZXInKTtcblx0XHR0aGlzLmdhbWUuY2FtZXJhLmZvbGxvdyh0aGlzKTtcblx0fVxuXG5cdHB1YmxpYyB1cGRhdGUoKSB7XG5cdFx0dGhpcy5kaXJlY3Rpb25zLmRvd24gPSB0aGlzLmdhbWUuaW5wdXQua2V5Ym9hcmQuaXNEb3duKFBoYXNlci5LZXlib2FyZC5ET1dOKTtcblx0XHR0aGlzLmRpcmVjdGlvbnMubGVmdCA9IHRoaXMuZ2FtZS5pbnB1dC5rZXlib2FyZC5pc0Rvd24oUGhhc2VyLktleWJvYXJkLkxFRlQpO1xuXHRcdHRoaXMuZGlyZWN0aW9ucy5yaWdodCA9IHRoaXMuZ2FtZS5pbnB1dC5rZXlib2FyZC5pc0Rvd24oUGhhc2VyLktleWJvYXJkLlJJR0hUKTtcblx0XHR0aGlzLmRpcmVjdGlvbnMudXAgPSB0aGlzLmdhbWUuaW5wdXQua2V5Ym9hcmQuaXNEb3duKFBoYXNlci5LZXlib2FyZC5VUCk7XG5cdFx0Y29uc3QgcnVubmluZyA9IHRoaXMuZ2FtZS5pbnB1dC5rZXlib2FyZC5pc0Rvd24oUGhhc2VyLktleWJvYXJkLlNISUZUKTtcblxuXHRcdGlmICh0aGlzLmRpcmVjdGlvbnMuZG93biAhPT0gdGhpcy5kaXJlY3Rpb25zLnVwKSB7XG5cdFx0XHR0aGlzLmRpcmVjdGlvbiA9IHRoaXMuZGlyZWN0aW9ucy5kb3duID8gRGlyZWN0aW9uLmRvd24gOiBEaXJlY3Rpb24udXA7XG5cdFx0XHRydW5uaW5nID8gdGhpcy5ydW4oKSA6IHRoaXMud2FsaygpO1xuXHRcdH0gZWxzZSBpZiAodGhpcy5kaXJlY3Rpb25zLmxlZnQgIT09IHRoaXMuZGlyZWN0aW9ucy5yaWdodCkge1xuXHRcdFx0dGhpcy5kaXJlY3Rpb24gPSB0aGlzLmRpcmVjdGlvbnMubGVmdCA/IERpcmVjdGlvbi5sZWZ0IDogRGlyZWN0aW9uLnJpZ2h0O1xuXHRcdFx0cnVubmluZyA/IHRoaXMucnVuKCkgOiB0aGlzLndhbGsoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5zdGFuZCgpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBIaWRlcyB0aGUgcGxheWVyLCBjaGFuZ2luZyB0aGUgc3RhdGUgYW5kIHNldHRpbmcgdGhlIGhpZGluZyBzcG90XG5cdCAqIEBwYXJhbSBoaWRpbmdTcG90IFRoZSBoaWRpbmcgc3BvdFxuXHQgKi9cblx0cHVibGljIGhpZGUoaGlkaW5nU3BvdDogSGlkaW5nU3BvdCkge1xuXHRcdGlmIChoaWRpbmdTcG90LmhpZGluZ1R5cGUgIT09IEhpZGluZ1R5cGUubm9uZSkge1xuXHRcdFx0dGhpcy5zZXRTdGF0ZShQbGF5ZXJTdGF0ZS5oaWRkZW4pO1xuXHRcdFx0dGhpcy5oaWRpbmdTcG90ID0gaGlkaW5nU3BvdDtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHQvKipcblx0ICogUmV2ZWFscyB0aGUgcGxheWVyLCBsZWF2aW5nIHRoZSBoaWRpbmcgcGxhY2UgaWYgdGhlcmUgd2FzIGFueVxuXHQgKi9cblx0cHVibGljIHJldmVhbCgpIHtcblx0XHRpZiAodGhpcy5oaWRpbmdTcG90KSB7XG5cdFx0XHR0aGlzLnNldFN0YXRlKHRoaXMuaGVhbHRoID8gUGxheWVyU3RhdGUuc3RhbmQgOiBQbGF5ZXJTdGF0ZS5kZWFkKTtcblx0XHRcdHRoaXMuaGlkaW5nU3BvdCA9IG51bGw7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0cHVibGljIGZyb21KU09OKGRhdGE6IElQbGF5ZXJTZXJpYWxpemVkKSB7XG5cdFx0c3VwZXIuZnJvbUpTT04oZGF0YSk7XG5cdFx0dGhpcy5tb25leSA9IGRhdGEubW9uZXk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHRwdWJsaWMgdG9KU09OKCk6IElQbGF5ZXJTZXJpYWxpemVkIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Li4uc3VwZXIudG9KU09OKCksXG5cdFx0XHRoaWRpbmdTcG90OiB0aGlzLmhpZGluZ1Nwb3QudG9KU09OKCksXG5cdFx0XHRtb25leTogdGhpcy5tb25leVxuXHRcdH07XG5cdH1cblxufVxuXG5QbGF5ZXIuZmFjdG9yeS5hZGQoUGxheWVyKTtcblxuLyoqXG4gKiBUaGUgc2VyaWFsaXplZCBwbGF5ZXIgZGF0YVxuICovXG5leHBvcnQgaW50ZXJmYWNlIElQbGF5ZXJTZXJpYWxpemVkIGV4dGVuZHMgSUNoYXJhY3RlclNlcmlhbGl6ZWQge1xuXHRoaWRpbmdTcG90OiBJSGlkaW5nU3BvdFNlcmlhbGl6ZWQ7XG5cdG1vbmV5OiBudW1iZXI7XG59XG4iLCJpbXBvcnQgeyBJSW52ZW50b3J5U2VyaWFsaXplZCwgSW52ZW50b3J5IH0gZnJvbSAnLi4vLi4vY29tbW9uL0ludmVudG9yeSc7XG5pbXBvcnQgeyBJdGVtIH0gZnJvbSAnLi4vLi4vaXRlbXMvSXRlbSc7XG5pbXBvcnQgeyBJdGVtV2VhcG9uIH0gZnJvbSAnLi4vLi4vaXRlbXMvSXRlbVdlYXBvbic7XG5pbXBvcnQgeyBHYW1lTWFuYWdlciB9IGZyb20gJy4uLy4uL21hbmFnZXJzL0dhbWVNYW5hZ2VyJztcbmltcG9ydCB7IENoYXJhY3RlclN0YXRlLCBEaXJlY3Rpb24gfSBmcm9tICcuLi8uLi9taXNjL3R5cGVzJztcbmltcG9ydCB7IEdhbWVPYmplY3QsIElHYW1lT2JqZWN0U2VyaWFsaXplZCB9IGZyb20gJy4uL0dhbWVPYmplY3QnO1xuXG5leHBvcnQgY2xhc3MgQ2hhcmFjdGVyIGV4dGVuZHMgR2FtZU9iamVjdCB7XG5cdHB1YmxpYyB3YWxrU3BlZWQgPSAwO1xuXHRwdWJsaWMgcnVuU3BlZWQgPSAwO1xuXHRwdWJsaWMgc3RhdGU6IG51bWJlciA9IENoYXJhY3RlclN0YXRlLnN0YW5kO1xuXHRwdWJsaWMgZGlyZWN0aW9uID0gRGlyZWN0aW9uLmRvd247XG5cdHB1YmxpYyBpbnZlbnRhcnkgPSBuZXcgSW52ZW50b3J5KCk7XG5cdHB1YmxpYyBzdHJlbmd0aCA9IDA7XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKGdhbWVNYW5hZ2VyOiBHYW1lTWFuYWdlciwgeDogbnVtYmVyLCB5OiBudW1iZXIsIGtleT86IHN0cmluZywgZnJhbWU/OiBzdHJpbmcpIHtcblx0XHRzdXBlcihnYW1lTWFuYWdlciwgeCwgeSwga2V5LCBmcmFtZSk7XG5cdFx0dGhpcy5nYW1lLnBoeXNpY3MuZW5hYmxlKHRoaXMpO1xuXHR9XG5cblx0cHVibGljIGdldCBkYW1hZ2VTdHJlbmd0aCgpIHtcblx0XHRjb25zdCBpdGVtID0gdGhpcy5pbnZlbnRhcnkuYWN0aXZlO1xuXHRcdHJldHVybiBpdGVtIGluc3RhbmNlb2YgSXRlbVdlYXBvbiA/IGl0ZW0uZGFtYWdlIDogdGhpcy5zdHJlbmd0aDtcblx0fVxuXG5cdHB1YmxpYyBzZXRTdHJlbmd0aChzdHJlbmd0aDogbnVtYmVyKSB7XG5cdFx0dGhpcy5zdHJlbmd0aCA9IHN0cmVuZ3RoO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0cHVibGljIHNldFN0YXRlKHN0YXRlOiBudW1iZXIpIHtcblx0XHR0aGlzLnN0YXRlID0gc3RhdGU7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHQvKipcblx0ICogVHJ5IHRvIGF0dGFjayBhIGNoYXJhY3RlclxuXHQgKiBAcGFyYW0gY2hhcmFjdGVyIFRoZSBjaGFyYWN0ZXIgdGhpcyBvbmUgaXMgYXR0ZW1wdGluZyB0byBhdHRhY2tcblx0ICovXG5cdHB1YmxpYyBhdHRhY2soY2hhcmFjdGVyOiBDaGFyYWN0ZXIpIHtcblx0XHRjaGFyYWN0ZXIuZGFtYWdlKHRoaXMuZGFtYWdlU3RyZW5ndGgpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEtpbGwgb3ZlcmxvYWQgdG8gc2V0IHRoZSBjaGFyYWN0ZXIncyBzdGF0ZVxuXHQgKi9cblx0cHVibGljIGtpbGwoKSB7XG5cdFx0dGhpcy5zZXRTdGF0ZShDaGFyYWN0ZXJTdGF0ZS5kZWFkKTtcblx0XHRyZXR1cm4gc3VwZXIua2lsbCgpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFNldHMgdGhlIHN0YXRlIG9mIHRoaXMgY2hhcmFjdGVyIHRvIHdhbGtcblx0ICovXG5cdHB1YmxpYyB3YWxrKCkge1xuXHRcdHRoaXMuc2V0U3RhdGUoQ2hhcmFjdGVyU3RhdGUud2Fsayk7XG5cdFx0c3dpdGNoICh0aGlzLmRpcmVjdGlvbikge1xuXHRcdFx0Y2FzZSBEaXJlY3Rpb24uZG93bjogdGhpcy5zZXRWZWxvY2l0eSgwLCB0aGlzLndhbGtTcGVlZCk7IGJyZWFrO1xuXHRcdFx0Y2FzZSBEaXJlY3Rpb24udXA6IHRoaXMuc2V0VmVsb2NpdHkoMCwgLXRoaXMud2Fsa1NwZWVkKTsgYnJlYWs7XG5cdFx0XHRjYXNlIERpcmVjdGlvbi5sZWZ0OiB0aGlzLnNldFZlbG9jaXR5KC10aGlzLndhbGtTcGVlZCwgMCk7IGJyZWFrO1xuXHRcdFx0ZGVmYXVsdDogdGhpcy5zZXRWZWxvY2l0eSh0aGlzLndhbGtTcGVlZCwgMCk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFNldHMgdGhlIHN0YXRlIG9mIHRoaXMgY2hhcmFjdGVyIHRvIHJ1blxuXHQgKi9cblx0cHVibGljIHJ1bigpIHtcblx0XHR0aGlzLnNldFN0YXRlKENoYXJhY3RlclN0YXRlLnJ1bik7XG5cdFx0c3dpdGNoICh0aGlzLmRpcmVjdGlvbikge1xuXHRcdFx0Y2FzZSBEaXJlY3Rpb24uZG93bjogdGhpcy5zZXRWZWxvY2l0eSgwLCB0aGlzLnJ1blNwZWVkKTsgYnJlYWs7XG5cdFx0XHRjYXNlIERpcmVjdGlvbi51cDogdGhpcy5zZXRWZWxvY2l0eSgwLCAtdGhpcy5ydW5TcGVlZCk7IGJyZWFrO1xuXHRcdFx0Y2FzZSBEaXJlY3Rpb24ubGVmdDogdGhpcy5zZXRWZWxvY2l0eSgtdGhpcy5ydW5TcGVlZCwgMCk7IGJyZWFrO1xuXHRcdFx0ZGVmYXVsdDogdGhpcy5zZXRWZWxvY2l0eSh0aGlzLnJ1blNwZWVkLCAwKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogU2V0cyB0aGUgc3RhdGUgb2YgdGhpcyBjaGFyYWN0ZXIgdG8gc3RhbmQsIGNoYW5naW5nXG5cdCAqL1xuXHRwdWJsaWMgc3RhbmQoKSB7XG5cdFx0dGhpcy5zZXRTdGF0ZShDaGFyYWN0ZXJTdGF0ZS5zdGFuZCk7XG5cdFx0dGhpcy5zZXRWZWxvY2l0eSgwLCAwKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDaGFuZ2UgdGhlIGRpcmVjdGlvbiBmb3IgdGhpcyBjaGFyYWN0ZXJcblx0ICogQHBhcmFtIGRpcmVjdGlvbiBUaGUgbmV3IGRpcmVjdGlvblxuXHQgKi9cblx0cHVibGljIGNoYW5nZURpcmVjdGlvbihkaXJlY3Rpb246IERpcmVjdGlvbikge1xuXHRcdHRoaXMuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuXHR9XG5cblx0cHVibGljIGZyb21KU09OKGRhdGE6IElDaGFyYWN0ZXJTZXJpYWxpemVkKSB7XG5cdFx0c3VwZXIuZnJvbUpTT04oZGF0YSk7XG5cdFx0dGhpcy5kaXJlY3Rpb24gPSBkYXRhLmRpcmVjdGlvbjtcblx0XHR0aGlzLnJ1blNwZWVkID0gZGF0YS5ydW5TcGVlZDtcblx0XHR0aGlzLndhbGtTcGVlZCA9IGRhdGEud2Fsa1NwZWVkO1xuXHRcdHRoaXMuaW52ZW50YXJ5LmNsZWFyKCk7XG5cdFx0dGhpcy5pbnZlbnRhcnkuYWN0aXZlID0gbmV3IEl0ZW0odGhpcy5nYW1lLCBkYXRhLmludmVudGFyeS5hY3RpdmUpO1xuXHRcdGZvciAoY29uc3QgZW50cnkgb2YgZGF0YS5pbnZlbnRhcnkuaXRlbXMpIHRoaXMuaW52ZW50YXJ5LnNldChlbnRyeS5uYW1lLCBuZXcgSXRlbSh0aGlzLmdhbWUsIGVudHJ5Lm5hbWUpKTtcblx0XHR0aGlzLnNldFN0cmVuZ3RoKGRhdGEuc3RyZW5ndGgpO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0cHVibGljIHRvSlNPTigpOiBJQ2hhcmFjdGVyU2VyaWFsaXplZCB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdC4uLnN1cGVyLnRvSlNPTigpLFxuXHRcdFx0ZGlyZWN0aW9uOiB0aGlzLmRpcmVjdGlvbixcblx0XHRcdGludmVudGFyeTogdGhpcy5pbnZlbnRhcnkudG9KU09OKCksXG5cdFx0XHRydW5TcGVlZDogdGhpcy5ydW5TcGVlZCxcblx0XHRcdHN0cmVuZ3RoOiB0aGlzLnN0cmVuZ3RoLFxuXHRcdFx0d2Fsa1NwZWVkOiB0aGlzLndhbGtTcGVlZCxcblx0XHR9O1xuXHR9XG5cbn1cblxuQ2hhcmFjdGVyLmZhY3RvcnkuYWRkKENoYXJhY3Rlcik7XG5cbi8qKlxuICogVGhlIHNlcmlhbGl6ZWQgY2hhcmFjdGVyIGRhdGFcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJQ2hhcmFjdGVyU2VyaWFsaXplZCBleHRlbmRzIElHYW1lT2JqZWN0U2VyaWFsaXplZCB7XG5cdGRpcmVjdGlvbjogbnVtYmVyO1xuXHRpbnZlbnRhcnk6IElJbnZlbnRvcnlTZXJpYWxpemVkO1xuXHRydW5TcGVlZDogbnVtYmVyO1xuXHRzdHJlbmd0aDogbnVtYmVyO1xuXHR3YWxrU3BlZWQ6IG51bWJlcjtcbn1cbiIsImltcG9ydCB7IElJdGVtU2VyaWFsaXplZCwgSXRlbSB9IGZyb20gJy4uL2l0ZW1zL0l0ZW0nO1xuXG5leHBvcnQgY2xhc3MgSW52ZW50b3J5IGV4dGVuZHMgTWFwPHN0cmluZywgSXRlbT4ge1xuXG5cdHB1YmxpYyBhY3RpdmU6IEl0ZW07XG5cblx0LyoqXG5cdCAqIFNldCB0aGUgYWN0aXZlIGl0ZW0gZnJvbSB0aGUgaW52ZW50b3J5XG5cdCAqIEBwYXJhbSBpdGVtIFRoZSBuZXcgYWN0aXZlIGl0ZW1cblx0ICovXG5cdHB1YmxpYyBzZXRBY3RpdmUoaXRlbTogSXRlbSkge1xuXHRcdHRoaXMuYWN0aXZlID0gaXRlbTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdHB1YmxpYyB0b0pTT04oKTogSUludmVudG9yeVNlcmlhbGl6ZWQge1xuXHRcdHJldHVybiB7XG5cdFx0XHRhY3RpdmU6IHRoaXMuYWN0aXZlLm5hbWUsXG5cdFx0XHRpdGVtczogWy4uLnRoaXMudmFsdWVzKCldXG5cdFx0fTtcblx0fVxuXG59XG5cbi8qKlxuICogVGhlIHNlcmlhbGl6ZWQgaW52ZW50b3J5IGRhdGFcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJSW52ZW50b3J5U2VyaWFsaXplZCB7XG5cdGFjdGl2ZTogc3RyaW5nO1xuXHRpdGVtczogSUl0ZW1TZXJpYWxpemVkW107XG59XG4iLCJpbXBvcnQgeyBGYWN0b3J5IH0gZnJvbSAnLi4vY29tbW9uL0ZhY3RvcnknO1xuaW1wb3J0IHsgSXRlbSB9IGZyb20gJy4vSXRlbSc7XG5cbmV4cG9ydCBjbGFzcyBJdGVtRmFjdG9yeSBleHRlbmRzIEZhY3Rvcnk8SXRlbSwgdHlwZW9mIEl0ZW0+eyB9XG4iLCJpbXBvcnQgeyBJSXRlbVNlcmlhbGl6ZWQsIEl0ZW0gfSBmcm9tICcuL0l0ZW0nO1xuXG5leHBvcnQgY2xhc3MgSXRlbVdlYXBvbiBleHRlbmRzIEl0ZW0ge1xuXHRwdWJsaWMgZGFtYWdlID0gMDtcblxuXHQvKipcblx0ICogU2V0IHRoZSBkYW1hZ2UgZm9yIHRoaXMgd2VhcG9uXG5cdCAqIEBwYXJhbSBkYW1hZ2UgVGhlIGRhbWFnZSB0aGlzIHdlYXBvbiBkZWFsc1xuXHQgKi9cblx0cHVibGljIHNldERhbWFnZShkYW1hZ2U6IG51bWJlcikge1xuXHRcdHRoaXMuZGFtYWdlID0gZGFtYWdlO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0cHVibGljIGxvYWQoZGF0YTogSUl0ZW1XZWFwb25TZXJpYWxpemVkKSB7XG5cdFx0cmV0dXJuIHN1cGVyLmxvYWQoZGF0YSkuc2V0RGFtYWdlKGRhdGEuZGFtYWdlKTtcblx0fVxuXG5cdHB1YmxpYyB0b0pTT04oKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdC4uLnN1cGVyLnRvSlNPTigpLFxuXHRcdFx0ZGFtYWdlOiB0aGlzLmRhbWFnZVxuXHRcdH07XG5cdH1cblxufVxuXG5JdGVtLmZhY3RvcnkuYWRkKEl0ZW1XZWFwb24pO1xuXG4vKipcbiAqIFRoZSBzZXJpYWxpemVkIGl0ZW0gd2VhcG9uIGRhdGFcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJSXRlbVdlYXBvblNlcmlhbGl6ZWQgZXh0ZW5kcyBJSXRlbVNlcmlhbGl6ZWQge1xuXHRkYW1hZ2U6IG51bWJlcjtcbn1cbiIsImltcG9ydCB7IEZhY3RvcnkgfSBmcm9tICcuLi9jb21tb24vRmFjdG9yeSc7XG5pbXBvcnQgeyBHYW1lT2JqZWN0IH0gZnJvbSAnLi9HYW1lT2JqZWN0JztcblxuZXhwb3J0IGNsYXNzIEdhbWVPYmplY3RGYWN0b3J5IGV4dGVuZHMgRmFjdG9yeTxHYW1lT2JqZWN0LCB0eXBlb2YgR2FtZU9iamVjdD57IH1cbiIsImV4cG9ydCBjbGFzcyBQcmVsb2FkZXJTdGF0ZSBleHRlbmRzIFBoYXNlci5TdGF0ZSB7XG5cblx0cHJpdmF0ZSBsb2FkaW5nQmFyOiBQaGFzZXIuU3ByaXRlO1xuXG5cdHB1YmxpYyBwcmVsb2FkKCkge1xuXHRcdHRoaXMubG9hZGluZ0JhciA9IHRoaXMuZ2FtZS5hZGQuc3ByaXRlKDAsIDI0MCwgJ3ByZWxvYWRlcl9iYXInKTtcblx0XHR0aGlzLmxvYWRpbmdCYXIuYW5jaG9yLnNldFRvKDAsIDAuNSk7XG5cdFx0dGhpcy5sb2FkLnNldFByZWxvYWRTcHJpdGUodGhpcy5sb2FkaW5nQmFyKTtcblxuXHRcdC8vIFRPRE86IGxvYWQgaGVyZSB0aGUgYXNzZXRzIGZvciB0aGUgZ2FtZVxuXHRcdHRoaXMuZ2FtZS5sb2FkLmltYWdlKCdsb2dvJywgJ2ltYWdlcy9TdG9uZXNDcmVlZC5wbmcnKTtcblx0fVxuXG5cdHB1YmxpYyBjcmVhdGUoKSB7XG5cdFx0dGhpcy5nYW1lLnN0YXRlLnN0YXJ0KCdtZW51Jyk7XG5cdH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=